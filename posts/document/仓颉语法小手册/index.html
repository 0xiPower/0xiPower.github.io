<!DOCTYPE html><html lang="zh-CN" class="bg-[var(--page-bg)] transition text-[14px] md:text-[16px]" data-overlayscrollbars-initialize data-astro-cid-sckkx6r4 style="--bannerOffset: 15vh;--banner-height-home: 65vh;--banner-height: 35vh;--configHue: 250;--page-width: 75rem;"> <head><title>震惊！这门国产编程语言竟能一招搞定全场景！开发者：学不会就OUT了！！ - ☯️xPower</title><meta charset="UTF-8"><meta name="description" content="仓颉编程语言是一款面向全场景智能的新一代编程语言，主打原生智能化、天生全场景、高性能、强安全。融入鸿蒙生态，为开发者提供良好的编程体验。全方位的编译优化和运行时实现、以及开箱即用的 IDE 工具链支持，为开发者打造友好开发体验和卓越程序性能。"><meta name="author" content="☯️xPower"><meta property="og:site_name" content="☯️xPower"><meta property="og:url" content="https://newpower.pro/posts/document/%E4%BB%93%E9%A2%89%E8%AF%AD%E6%B3%95%E5%B0%8F%E6%89%8B%E5%86%8C/"><meta property="og:title" content="震惊！这门国产编程语言竟能一招搞定全场景！开发者：学不会就OUT了！！ - ☯️xPower"><meta property="og:description" content="仓颉编程语言是一款面向全场景智能的新一代编程语言，主打原生智能化、天生全场景、高性能、强安全。融入鸿蒙生态，为开发者提供良好的编程体验。全方位的编译优化和运行时实现、以及开箱即用的 IDE 工具链支持，为开发者打造友好开发体验和卓越程序性能。"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://newpower.pro/posts/document/%E4%BB%93%E9%A2%89%E8%AF%AD%E6%B3%95%E5%B0%8F%E6%89%8B%E5%86%8C/"><meta name="twitter:title" content="震惊！这门国产编程语言竟能一招搞定全场景！开发者：学不会就OUT了！！ - ☯️xPower"><meta name="twitter:description" content="仓颉编程语言是一款面向全场景智能的新一代编程语言，主打原生智能化、天生全场景、高性能、强安全。融入鸿蒙生态，为开发者提供良好的编程体验。全方位的编译优化和运行时实现、以及开箱即用的 IDE 工具链支持，为开发者打造友好开发体验和卓越程序性能。"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.7.12"><link rel="icon" href="/favicon/16.png" sizes="16x16" media="(prefers-color-scheme: light)"><link rel="icon" href="/favicon/32.png" sizes="32x32" media="(prefers-color-scheme: light)"><link rel="icon" href="/favicon/48.png" sizes="48x48" media="(prefers-color-scheme: light)"><link rel="icon" href="/favicon/64.png" sizes="64x64" media="(prefers-color-scheme: light)"><link rel="icon" href="/favicon/128.png" sizes="128x128" media="(prefers-color-scheme: light)"><link rel="icon" href="/favicon/256.png" sizes="256x256" media="(prefers-color-scheme: light)"><link rel="icon" href="/favicon/16.png" sizes="16x16" media="(prefers-color-scheme: dark)"><link rel="icon" href="/favicon/32.png" sizes="32x32" media="(prefers-color-scheme: dark)"><link rel="icon" href="/favicon/48.png" sizes="48x48" media="(prefers-color-scheme: dark)"><link rel="icon" href="/favicon/64.png" sizes="64x64" media="(prefers-color-scheme: dark)"><link rel="icon" href="/favicon/128.png" sizes="128x128" media="(prefers-color-scheme: dark)"><link rel="icon" href="/favicon/256.png" sizes="256x256" media="(prefers-color-scheme: dark)"><!-- Set the theme before the page is rendered to avoid a flash --><script>(function(){const DEFAULT_THEME = "auto";
const LIGHT_MODE = "light";
const DARK_MODE = "dark";
const AUTO_MODE = "auto";
const BANNER_HEIGHT_EXTEND = 30;
const PAGE_WIDTH = 75;
const configHue = 250;

			// Load the theme from local storage
			const theme = localStorage.getItem('theme') || DEFAULT_THEME;
			switch (theme) {
				case LIGHT_MODE:
					document.documentElement.classList.remove('dark');
					break
				case DARK_MODE:
					document.documentElement.classList.add('dark');
					break
				case AUTO_MODE:
					if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
						document.documentElement.classList.add('dark');
					} else {
						document.documentElement.classList.remove('dark');
					}
			}

			// Load the hue from local storage
			const hue = localStorage.getItem('hue') || configHue;
			document.documentElement.style.setProperty('--hue', hue);

			// calculate the --banner-height-extend, which needs to be a multiple of 4 to avoid blurry text
			let offset = Math.floor(window.innerHeight * (BANNER_HEIGHT_EXTEND / 100));
			offset = offset - offset % 4;
			document.documentElement.style.setProperty('--banner-height-extend', `${offset}px`);
		})();</script><!-- defines global css variables. This will be applied to <html> <body> and some other elements idk why --><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"震惊！这门国产编程语言竟能一招搞定全场景！开发者：学不会就OUT了！！","description":"仓颉编程语言是一款面向全场景智能的新一代编程语言，主打原生智能化、天生全场景、高性能、强安全。融入鸿蒙生态，为开发者提供良好的编程体验。全方位的编译优化和运行时实现、以及开箱即用的 IDE 工具链支持，为开发者打造友好开发体验和卓越程序性能。","keywords":["仓颉","Cangjie","教程","手册","编程语言"],"author":{"@type":"Person","name":"☯️xPower","url":"https://newpower.pro/"},"datePublished":"2025-05-12","inLanguage":"zh-CN"}</script><link rel="alternate" type="application/rss+xml" title="☯️xPower" href="https://newpower.pro/rss.xml"><link rel="stylesheet" href="/_astro/Layout.DSulWsr7.css">
<link rel="stylesheet" href="/_astro/Layout.CFC0InTM.css">
<link rel="stylesheet" href="/_astro/_page_.DpQ6tNS3.css">
<link rel="stylesheet" href="/_astro/about.BtniRLn_.css">
<link rel="stylesheet" href="/_astro/_page_.M3oqaY_X.css">
<style>input.svelte-1adkdfv:focus{outline:0}.search-panel.svelte-1adkdfv{max-height:calc(100vh - 100px);overflow-y:auto}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex){-webkit-appearance:none;height:1.5rem;background-image:var(--color-selection-bar);transition:background-image .15s ease-in-out}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-webkit-slider-thumb{-webkit-appearance:none;height:1rem;width:.5rem;border-radius:.125rem;background:#ffffffb3;box-shadow:none}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-webkit-slider-thumb:hover{background:#fffc}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-webkit-slider-thumb:active{background:#fff9}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-moz-range-thumb{-webkit-appearance:none;height:1rem;width:.5rem;border-radius:.125rem;border-width:0;background:#ffffffb3;box-shadow:none}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-moz-range-thumb:hover{background:#fffc}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-moz-range-thumb:active{background:#fff9}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-ms-thumb{-webkit-appearance:none;height:1rem;width:.5rem;border-radius:.125rem;background:#ffffffb3;box-shadow:none}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-ms-thumb:hover{background:#fffc}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-ms-thumb:active{background:#fff9}
</style><script type="module" src="/_astro/page.D6-Kvdo4.js"></script></head> <body class=" min-h-screen transition  enable-banner" data-overlayscrollbars-initialize data-astro-cid-sckkx6r4 style="--bannerOffset: 15vh;--banner-height-home: 65vh;--banner-height: 35vh;--configHue: 250;--page-width: 75rem;"> <div id="config-carrier" data-hue="250"></div>    <div id="top-row" class="z-50 pointer-events-none relative transition-all duration-700 max-w-[var(--page-width)] px-0 md:px-4 mx-auto"> <div id="navbar-wrapper" class="pointer-events-auto sticky top-0 transition-all"> <div id="navbar" class="z-50 onload-animation"> <div class="absolute h-8 left-0 right-0 -top-8 bg-[var(--card-bg)] transition"></div> <!-- used for onload animation --> <div class="card-base !overflow-visible max-w-[var(--page-width)] h-[4.5rem] !rounded-t-none mx-auto flex items-center justify-between px-4"> <a href="/" class="btn-plain scale-animation rounded-lg h-[3.25rem] px-5 font-bold active:scale-95"> <div class="flex flex-row text-[var(--primary)] items-center text-md"> <svg width="1em" height="1em" class="text-[1.75rem] mb-1 mr-2" data-icon="material-symbols:home-outline-rounded">   <symbol id="ai:material-symbols:home-outline-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M6 19h3v-5q0-.425.288-.712T10 13h4q.425 0 .713.288T15 14v5h3v-9l-6-4.5L6 10zm-2 0v-9q0-.475.213-.9t.587-.7l6-4.5q.525-.4 1.2-.4t1.2.4l6 4.5q.375.275.588.7T20 10v9q0 .825-.588 1.413T18 21h-4q-.425 0-.712-.288T13 20v-5h-2v5q0 .425-.288.713T10 21H6q-.825 0-1.412-.587T4 19m8-6.75"/></symbol><use href="#ai:material-symbols:home-outline-rounded"></use>  </svg> ☯️xPower </div> </a> <div class="hidden md:flex"> <a aria-label="太清" href="/" class="btn-plain scale-animation rounded-lg h-11 font-bold px-5 active:scale-95"> <div class="flex items-center"> 太清  </div> </a><a aria-label="归档" href="/archive/" class="btn-plain scale-animation rounded-lg h-11 font-bold px-5 active:scale-95"> <div class="flex items-center"> 归档  </div> </a><a aria-label="自述" href="/about/" class="btn-plain scale-animation rounded-lg h-11 font-bold px-5 active:scale-95"> <div class="flex items-center"> 自述  </div> </a><a aria-label="GitHub" href="https://github.com/0xiPower" target="_blank" class="btn-plain scale-animation rounded-lg h-11 font-bold px-5 active:scale-95"> <div class="flex items-center"> GitHub <svg width="1em" height="1em" class="text-[0.875rem] transition -translate-y-[1px] ml-1 text-black/[0.2] dark:text-white/[0.2]" data-icon="fa6-solid:arrow-up-right-from-square">   <symbol id="ai:fa6-solid:arrow-up-right-from-square" viewBox="0 0 512 512"><path fill="currentColor" d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 32C35.8 32 0 67.8 0 112v320c0 44.2 35.8 80 80 80h320c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v112c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16h112c17.7 0 32-14.3 32-32s-14.3-32-32-32z"/></symbol><use href="#ai:fa6-solid:arrow-up-right-from-square"></use>  </svg> </div> </a> </div> <div class="flex"> <!--<SearchPanel client:load>--> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="Z2v8rNK" component-url="/_astro/Search.CVOabdua.js" component-export="default" renderer-url="/_astro/client.svelte.Co5vYsRd.js" props="{}" ssr client="only" opts="{&quot;name&quot;:&quot;Search&quot;,&quot;value&quot;:&quot;svelte&quot;}"></astro-island> <button aria-label="Display Settings" class="btn-plain scale-animation rounded-lg h-11 w-11 active:scale-90" id="display-settings-switch"> <svg width="1em" height="1em" class="text-[1.25rem]" data-icon="material-symbols:palette-outline">   <symbol id="ai:material-symbols:palette-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M12 22q-2.05 0-3.875-.788t-3.187-2.15t-2.15-3.187T2 12q0-2.075.813-3.9t2.2-3.175T8.25 2.788T12.2 2q2 0 3.775.688t3.113 1.9t2.125 2.875T22 11.05q0 2.875-1.75 4.413T16 17h-1.85q-.225 0-.312.125t-.088.275q0 .3.375.863t.375 1.287q0 1.25-.687 1.85T12 22m-5.5-9q.65 0 1.075-.425T8 11.5t-.425-1.075T6.5 10t-1.075.425T5 11.5t.425 1.075T6.5 13m3-4q.65 0 1.075-.425T11 7.5t-.425-1.075T9.5 6t-1.075.425T8 7.5t.425 1.075T9.5 9m5 0q.65 0 1.075-.425T16 7.5t-.425-1.075T14.5 6t-1.075.425T13 7.5t.425 1.075T14.5 9m3 4q.65 0 1.075-.425T19 11.5t-.425-1.075T17.5 10t-1.075.425T16 11.5t.425 1.075T17.5 13M12 20q.225 0 .363-.125t.137-.325q0-.35-.375-.825T11.75 17.3q0-1.05.725-1.675T14.25 15H16q1.65 0 2.825-.962T20 11.05q0-3.025-2.312-5.038T12.2 4Q8.8 4 6.4 6.325T4 12q0 3.325 2.338 5.663T12 20"/></symbol><use href="#ai:material-symbols:palette-outline"></use>  </svg> </button> <astro-island uid="Z1G5HBD" component-url="/_astro/LightDarkSwitch.CP8eSYae.js" component-export="default" renderer-url="/_astro/client.svelte.Co5vYsRd.js" props="{}" ssr client="only" opts="{&quot;name&quot;:&quot;LightDarkSwitch&quot;,&quot;value&quot;:&quot;svelte&quot;}"></astro-island> <button aria-label="Menu" name="Nav Menu" class="btn-plain scale-animation rounded-lg w-11 h-11 active:scale-90 md:!hidden" id="nav-menu-switch"> <svg width="1em" height="1em" class="text-[1.25rem]" data-icon="material-symbols:menu-rounded">   <symbol id="ai:material-symbols:menu-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M4 18q-.425 0-.712-.288T3 17t.288-.712T4 16h16q.425 0 .713.288T21 17t-.288.713T20 18zm0-5q-.425 0-.712-.288T3 12t.288-.712T4 11h16q.425 0 .713.288T21 12t-.288.713T20 13zm0-5q-.425 0-.712-.288T3 7t.288-.712T4 6h16q.425 0 .713.288T21 7t-.288.713T20 8z"/></symbol><use href="#ai:material-symbols:menu-rounded"></use>  </svg> </button> </div> <div id="nav-menu-panel" class="float-panel float-panel-closed absolute transition-all fixed right-4 px-2 py-2"> <a href="/" class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        "> <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)]"> 太清 </div> <svg width="1em" height="1em" class="transition text-[1.25rem] text-[var(--primary)]" data-icon="material-symbols:chevron-right-rounded">   <symbol id="ai:material-symbols:chevron-right-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M12.6 12L8.7 8.1q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275l4.6 4.6q.15.15.213.325t.062.375t-.062.375t-.213.325l-4.6 4.6q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7z"/></symbol><use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg>  </a><a href="/archive/" class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        "> <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)]"> 归档 </div> <svg width="1em" height="1em" viewBox="0 0 24 24" class="transition text-[1.25rem] text-[var(--primary)]" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg>  </a><a href="/about/" class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        "> <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)]"> 自述 </div> <svg width="1em" height="1em" viewBox="0 0 24 24" class="transition text-[1.25rem] text-[var(--primary)]" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg>  </a><a href="https://github.com/0xiPower" class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        " target="_blank"> <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)]"> GitHub </div>  <svg width="1em" height="1em" viewBox="0 0 512 512" class="transition text-[0.75rem] text-black/25 dark:text-white/25 -translate-x-1" data-icon="fa6-solid:arrow-up-right-from-square">   <use href="#ai:fa6-solid:arrow-up-right-from-square"></use>  </svg> </a> </div> <astro-island uid="1PG9MM" component-url="/_astro/DisplaySettings.Byj6k_3S.js" component-export="default" renderer-url="/_astro/client.svelte.Co5vYsRd.js" props="{}" ssr client="only" opts="{&quot;name&quot;:&quot;DisplaySettings&quot;,&quot;value&quot;:&quot;svelte&quot;}"></astro-island> </div> </div> <script type="module">function c(){localStorage.theme==="dark"?(document.documentElement.classList.remove("dark"),localStorage.theme="light"):(document.documentElement.classList.add("dark"),localStorage.theme="dark")}function o(){let t=document.getElementById("scheme-switch");t&&(t.onclick=function(){c()});let n=document.getElementById("display-settings-switch");n&&(n.onclick=function(){let e=document.getElementById("display-setting");e&&e.classList.toggle("float-panel-closed")});let l=document.getElementById("nav-menu-switch");l&&(l.onclick=function(){let e=document.getElementById("nav-menu-panel");e&&e.classList.toggle("float-panel-closed")})}o();</script> <script>(function(){const scriptUrl = "/pagefind/pagefind.js";

async function loadPagefind() {
    const pagefind = await import(scriptUrl)
    await pagefind.options({
        'excerptLength': 20
    })
    pagefind.init()
    window.pagefind = pagefind
    pagefind.search('')     // speed up the first search
}
loadPagefind()
})();</script> </div> </div>  <div id="banner-wrapper" class="absolute z-10 w-full transition duration-700 overflow-hidden" style="top: -30vh"> <div id="banner" class="object-cover h-full transition duration-700 opacity-0 scale-105 overflow-hidden relative"> <div class="transition absolute inset-0 dark:bg-black/10 bg-opacity-50 pointer-events-none"></div> <img src="/_astro/banner.1jSPN1-M_Z2iqxfv.webp" alt="Banner image of the blog" style="object-position: center" width="3584" height="2048" loading="lazy" decoding="async" class="w-full h-full object-cover">  </div> </div> <div class="absolute w-full z-30 pointer-events-none" style="top: calc(35vh - 3.5rem)"> <!-- The pointer-events-none here prevent blocking the click event of the TOC --> <div class="relative max-w-[var(--page-width)] mx-auto pointer-events-auto"> <div id="main-grid" class="transition duration-700 w-full left-0 right-0 grid grid-cols-[17.5rem_auto] grid-rows-[auto_1fr_auto] lg:grid-rows-[auto]
    mx-auto gap-4 px-0 md:px-4"> <!-- Banner image credit -->  <div id="sidebar" class="mb-4 row-start-2 row-end-3 col-span-2 lg:row-start-1 lg:row-end-2 lg:col-span-1 lg:max-w-[17.5rem] onload-animation w-full"> <div class="flex flex-col w-full gap-4 mb-4"> <div class="card-base p-3"> <a aria-label="Go to About Page" href="/about/" class="group block relative mx-auto mt-1 lg:mx-0 lg:mt-0 mb-3
       max-w-[12rem] lg:max-w-none overflow-hidden rounded-xl active:scale-95"> <div class="absolute transition pointer-events-none group-hover:bg-black/30 group-active:bg-black/50
        w-full h-full z-50 flex items-center justify-center"> <svg width="1.13em" height="1em" class="transition opacity-0 scale-90 group-hover:scale-100 group-hover:opacity-100 text-white text-5xl" data-icon="fa6-regular:address-card">   <symbol id="ai:fa6-regular:address-card" viewBox="0 0 576 512"><path fill="currentColor" d="M512 80c8.8 0 16 7.2 16 16v320c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16zM64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64zm144 224a64 64 0 1 0 0-128a64 64 0 1 0 0 128m-32 32c-44.2 0-80 35.8-80 80c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16c0-44.2-35.8-80-80-80zm200-144c-13.3 0-24 10.7-24 24s10.7 24 24 24h80c13.3 0 24-10.7 24-24s-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24h80c13.3 0 24-10.7 24-24s-10.7-24-24-24z"/></symbol><use href="#ai:fa6-regular:address-card"></use>  </svg> </div> <div class="mx-auto lg:w-full h-full lg:mt-0  overflow-hidden relative"> <div class="transition absolute inset-0 dark:bg-black/10 bg-opacity-50 pointer-events-none"></div> <img src="/_astro/avatar.BgH2kd3y_30py1.webp" alt="Profile Image of the Author" style="object-position: center" width="2048" height="2048" loading="lazy" decoding="async" class="w-full h-full object-cover">  </div> </a> <div class="px-2"> <div class="font-bold text-xl text-center mb-1 dark:text-neutral-50 transition">☯️xPower</div> <div class="h-1 w-5 bg-[var(--primary)] mx-auto rounded-full mb-2 transition"></div> <div class="text-center text-neutral-400 mb-2.5 transition">Either vulgar or lonely.</div> <div class="flex gap-2 justify-center mb-1"> <a rel="me" aria-label="Twitter" href="https://x.com/_PowerLee_" target="_blank" class="btn-regular rounded-lg h-10 w-10 active:scale-90"> <svg width="1em" height="1em" class="text-[1.5rem]" data-icon="fa6-brands:twitter">   <symbol id="ai:fa6-brands:twitter" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645c0 138.72-105.583 298.558-298.558 298.558c-59.452 0-114.68-17.219-161.137-47.106c8.447.974 16.568 1.299 25.34 1.299c49.055 0 94.213-16.568 130.274-44.832c-46.132-.975-84.792-31.188-98.112-72.772c6.498.974 12.995 1.624 19.818 1.624c9.421 0 18.843-1.3 27.614-3.573c-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319c-28.264-18.843-46.781-51.005-46.781-87.391c0-19.492 5.197-37.36 14.294-52.954c51.655 63.675 129.3 105.258 216.365 109.807c-1.624-7.797-2.599-15.918-2.599-24.04c0-57.828 46.782-104.934 104.934-104.934c30.213 0 57.502 12.67 76.67 33.137c23.715-4.548 46.456-13.32 66.599-25.34c-7.798 24.366-24.366 44.833-46.132 57.827c21.117-2.273 41.584-8.122 60.426-16.243c-14.292 20.791-32.161 39.308-52.628 54.253"/></symbol><use href="#ai:fa6-brands:twitter"></use>  </svg> </a><a rel="me" aria-label="GitHub" href="https://github.com/0xiPower" target="_blank" class="btn-regular rounded-lg h-10 w-10 active:scale-90"> <svg width="0.97em" height="1em" class="text-[1.5rem]" data-icon="fa6-brands:github">   <symbol id="ai:fa6-brands:github" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6c-3.3.3-5.6-1.3-5.6-3.6c0-2 2.3-3.6 5.2-3.6c3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9c2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9c.3 2 2.9 3.3 5.9 2.6c2.9-.7 4.9-2.6 4.6-4.6c-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2c12.8 2.3 17.3-5.6 17.3-12.1c0-6.2-.3-40.4-.3-61.4c0 0-70 15-84.7-29.8c0 0-11.4-29.1-27.8-36.6c0 0-22.9-15.7 1.6-15.4c0 0 24.9 2 38.6 25.8c21.9 38.6 58.6 27.5 72.9 20.9c2.3-16 8.8-27.1 16-33.7c-55.9-6.2-112.3-14.3-112.3-110.5c0-27.5 7.6-41.3 23.6-58.9c-2.6-6.5-11.1-33.3 2.6-67.9c20.9-6.5 69 27 69 27c20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27c13.7 34.7 5.2 61.4 2.6 67.9c16 17.7 25.8 31.5 25.8 58.9c0 96.5-58.9 104.2-114.8 110.5c9.2 7.9 17 22.9 17 46.4c0 33.7-.3 75.4-.3 83.6c0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252C496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2c1.6 1.6 3.9 2.3 5.2 1c1.3-1 1-3.3-.7-5.2c-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9c1.6 1 3.6.7 4.3-.7c.7-1.3-.3-2.9-2.3-3.9c-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2c2.3 2.3 5.2 2.6 6.5 1c1.3-1.3.7-4.3-1.3-6.2c-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2c-1.4-2.3-4-3.3-5.6-2"/></symbol><use href="#ai:fa6-brands:github"></use>  </svg> </a><a rel="me" aria-label="email" href="mailto:sunk1ng@foxmail.com" target="_blank" class="btn-regular rounded-lg h-10 w-10 active:scale-90"> <svg width="1em" height="1em" class="text-[1.5rem]" data-icon="fa6-solid:envelope">   <symbol id="ai:fa6-solid:envelope" viewBox="0 0 512 512"><path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0z"/></symbol><use href="#ai:fa6-solid:envelope"></use>  </svg> </a>  </div> </div> </div> </div> <div id="sidebar-sticky" class="transition-all duration-700 flex flex-col w-full gap-4 top-4 sticky top-4"> <widget-layout data-id="categories" data-is-collapsed="true" class="pb-4 card-base onload-animation" style="animation-delay: 150ms; --collapsedHeight: 7.5rem;" data-astro-cid-ucso7hve="true"> <div class="font-bold transition text-lg text-neutral-900 dark:text-neutral-100 relative ml-8 mt-4 mb-2
        before:w-1 before:h-4 before:rounded-md before:bg-[var(--primary)]
        before:absolute before:left-[-16px] before:top-[5.5px]" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;">分类</div> <div id="categories" class="collapse-wrapper px-4 overflow-hidden collapsed" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;"> <a href="/archive/category/BlockChain/" aria-label="View all posts in the BlockChain category"> <button class="
            w-full
            h-10
            rounded-lg
            bg-none
            hover:bg-[var(--btn-plain-bg-hover)]
            active:bg-[var(--btn-plain-bg-active)]
            transition-all
            pl-2
            hover:pl-3
            
            text-neutral-700
            hover:text-[var(--primary)]
            dark:text-neutral-300
            dark:hover:text-[var(--primary)]
        "> <div class="flex items-center justify-between relative mr-2"> <div class="overflow-hidden text-left whitespace-nowrap overflow-ellipsis  "> BlockChain </div> <div class="transition px-2 h-7 ml-4 min-w-[2rem] rounded-lg text-sm font-bold
                    text-[var(--btn-content)] dark:text-[var(--deep-text)]
                    bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)]
                    flex items-center justify-center"> 1 </div> </div> </button> </a><a href="/archive/category/DiaryBook/" aria-label="View all posts in the DiaryBook category"> <button class="
            w-full
            h-10
            rounded-lg
            bg-none
            hover:bg-[var(--btn-plain-bg-hover)]
            active:bg-[var(--btn-plain-bg-active)]
            transition-all
            pl-2
            hover:pl-3
            
            text-neutral-700
            hover:text-[var(--primary)]
            dark:text-neutral-300
            dark:hover:text-[var(--primary)]
        "> <div class="flex items-center justify-between relative mr-2"> <div class="overflow-hidden text-left whitespace-nowrap overflow-ellipsis  "> DiaryBook </div> <div class="transition px-2 h-7 ml-4 min-w-[2rem] rounded-lg text-sm font-bold
                    text-[var(--btn-content)] dark:text-[var(--deep-text)]
                    bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)]
                    flex items-center justify-center"> 2 </div> </div> </button> </a><a href="/archive/category/Document/" aria-label="View all posts in the Document category"> <button class="
            w-full
            h-10
            rounded-lg
            bg-none
            hover:bg-[var(--btn-plain-bg-hover)]
            active:bg-[var(--btn-plain-bg-active)]
            transition-all
            pl-2
            hover:pl-3
            
            text-neutral-700
            hover:text-[var(--primary)]
            dark:text-neutral-300
            dark:hover:text-[var(--primary)]
        "> <div class="flex items-center justify-between relative mr-2"> <div class="overflow-hidden text-left whitespace-nowrap overflow-ellipsis  "> Document </div> <div class="transition px-2 h-7 ml-4 min-w-[2rem] rounded-lg text-sm font-bold
                    text-[var(--btn-content)] dark:text-[var(--deep-text)]
                    bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)]
                    flex items-center justify-center"> 8 </div> </div> </button> </a><a href="/archive/category/English/" aria-label="View all posts in the English category"> <button class="
            w-full
            h-10
            rounded-lg
            bg-none
            hover:bg-[var(--btn-plain-bg-hover)]
            active:bg-[var(--btn-plain-bg-active)]
            transition-all
            pl-2
            hover:pl-3
            
            text-neutral-700
            hover:text-[var(--primary)]
            dark:text-neutral-300
            dark:hover:text-[var(--primary)]
        "> <div class="flex items-center justify-between relative mr-2"> <div class="overflow-hidden text-left whitespace-nowrap overflow-ellipsis  "> English </div> <div class="transition px-2 h-7 ml-4 min-w-[2rem] rounded-lg text-sm font-bold
                    text-[var(--btn-content)] dark:text-[var(--deep-text)]
                    bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)]
                    flex items-center justify-center"> 2 </div> </div> </button> </a><a href="/archive/category/Favorite/" aria-label="View all posts in the Favorite category"> <button class="
            w-full
            h-10
            rounded-lg
            bg-none
            hover:bg-[var(--btn-plain-bg-hover)]
            active:bg-[var(--btn-plain-bg-active)]
            transition-all
            pl-2
            hover:pl-3
            
            text-neutral-700
            hover:text-[var(--primary)]
            dark:text-neutral-300
            dark:hover:text-[var(--primary)]
        "> <div class="flex items-center justify-between relative mr-2"> <div class="overflow-hidden text-left whitespace-nowrap overflow-ellipsis  "> Favorite </div> <div class="transition px-2 h-7 ml-4 min-w-[2rem] rounded-lg text-sm font-bold
                    text-[var(--btn-content)] dark:text-[var(--deep-text)]
                    bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)]
                    flex items-center justify-center"> 2 </div> </div> </button> </a><a href="/archive/category/Git/" aria-label="View all posts in the Git category"> <button class="
            w-full
            h-10
            rounded-lg
            bg-none
            hover:bg-[var(--btn-plain-bg-hover)]
            active:bg-[var(--btn-plain-bg-active)]
            transition-all
            pl-2
            hover:pl-3
            
            text-neutral-700
            hover:text-[var(--primary)]
            dark:text-neutral-300
            dark:hover:text-[var(--primary)]
        "> <div class="flex items-center justify-between relative mr-2"> <div class="overflow-hidden text-left whitespace-nowrap overflow-ellipsis  "> Git </div> <div class="transition px-2 h-7 ml-4 min-w-[2rem] rounded-lg text-sm font-bold
                    text-[var(--btn-content)] dark:text-[var(--deep-text)]
                    bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)]
                    flex items-center justify-center"> 2 </div> </div> </button> </a><a href="/archive/category/NoteBook/" aria-label="View all posts in the NoteBook category"> <button class="
            w-full
            h-10
            rounded-lg
            bg-none
            hover:bg-[var(--btn-plain-bg-hover)]
            active:bg-[var(--btn-plain-bg-active)]
            transition-all
            pl-2
            hover:pl-3
            
            text-neutral-700
            hover:text-[var(--primary)]
            dark:text-neutral-300
            dark:hover:text-[var(--primary)]
        "> <div class="flex items-center justify-between relative mr-2"> <div class="overflow-hidden text-left whitespace-nowrap overflow-ellipsis  "> NoteBook </div> <div class="transition px-2 h-7 ml-4 min-w-[2rem] rounded-lg text-sm font-bold
                    text-[var(--btn-content)] dark:text-[var(--deep-text)]
                    bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)]
                    flex items-center justify-center"> 7 </div> </div> </button> </a> </div> <div class="expand-btn px-4 -mb-2" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;"> <button class="btn-plain rounded-lg w-full h-9" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;"> <div class="text-[var(--primary)] flex items-center justify-center gap-2 -translate-x-2" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;"> <svg width="1em" height="1em" class="text-[1.75rem]" data-astro-cid-ucso7hve="true" data-icon="material-symbols:more-horiz">   <symbol id="ai:material-symbols:more-horiz" viewBox="0 0 24 24"><path fill="currentColor" d="M6 14q-.825 0-1.412-.587T4 12t.588-1.412T6 10t1.413.588T8 12t-.587 1.413T6 14m6 0q-.825 0-1.412-.587T10 12t.588-1.412T12 10t1.413.588T14 12t-.587 1.413T12 14m6 0q-.825 0-1.412-.587T16 12t.588-1.412T18 10t1.413.588T20 12t-.587 1.413T18 14"/></symbol><use href="#ai:material-symbols:more-horiz"></use>  </svg> 更多 </div> </button> </div> </widget-layout>  <script type="module">class d extends HTMLElement{constructor(){if(super(),this.dataset.isCollapsed!=="true")return;const e=this.dataset.id,t=this.querySelector(".expand-btn"),s=this.querySelector(`#${e}`);t.addEventListener("click",()=>{s.classList.remove("collapsed"),t.classList.add("hidden")})}}customElements.get("widget-layout")||customElements.define("widget-layout",d);</script> <widget-layout data-id="tags" data-is-collapsed="true" class="pb-4 card-base onload-animation" style="animation-delay: 200ms; --collapsedHeight: 7.5rem;" data-astro-cid-ucso7hve="true"> <div class="font-bold transition text-lg text-neutral-900 dark:text-neutral-100 relative ml-8 mt-4 mb-2
        before:w-1 before:h-4 before:rounded-md before:bg-[var(--primary)]
        before:absolute before:left-[-16px] before:top-[5.5px]" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;">标签</div> <div id="tags" class="collapse-wrapper px-4 overflow-hidden collapsed" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;">  <div class="flex gap-2 flex-wrap"> <a href="/archive/tag/Actions/" aria-label="View all posts with the Actions tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Actions </a><a href="/archive/tag/Arbitrum/" aria-label="View all posts with the Arbitrum tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Arbitrum </a><a href="/archive/tag/Astro/" aria-label="View all posts with the Astro tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Astro </a><a href="/archive/tag/C%2B%2B/" aria-label="View all posts with the C++ tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  C++ </a><a href="/archive/tag/Cangjie/" aria-label="View all posts with the Cangjie tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Cangjie </a><a href="/archive/tag/CI%2FCD/" aria-label="View all posts with the CI/CD tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  CI/CD </a><a href="/archive/tag/English/" aria-label="View all posts with the English tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  English </a><a href="/archive/tag/EVM/" aria-label="View all posts with the EVM tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  EVM </a><a href="/archive/tag/Git/" aria-label="View all posts with the Git tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Git </a><a href="/archive/tag/Github/" aria-label="View all posts with the Github tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Github </a><a href="/archive/tag/Graduate/" aria-label="View all posts with the Graduate tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Graduate </a><a href="/archive/tag/Layer2/" aria-label="View all posts with the Layer2 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Layer2 </a><a href="/archive/tag/Markdown/" aria-label="View all posts with the Markdown tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Markdown </a><a href="/archive/tag/Master/" aria-label="View all posts with the Master tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Master </a><a href="/archive/tag/Node/" aria-label="View all posts with the Node tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Node </a><a href="/archive/tag/npm/" aria-label="View all posts with the npm tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  npm </a><a href="/archive/tag/Rust/" aria-label="View all posts with the Rust tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Rust </a><a href="/archive/tag/Stylus/" aria-label="View all posts with the Stylus tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Stylus </a><a href="/archive/tag/WASM/" aria-label="View all posts with the WASM tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  WASM </a><a href="/archive/tag/Web3/" aria-label="View all posts with the Web3 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Web3 </a><a href="/archive/tag/YAML/" aria-label="View all posts with the YAML tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  YAML </a><a href="/archive/tag/%E4%BB%93%E9%A2%89/" aria-label="View all posts with the 仓颉 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  仓颉 </a><a href="/archive/tag/%E5%8C%BA%E5%9D%97%E9%93%BE/" aria-label="View all posts with the 区块链 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  区块链 </a><a href="/archive/tag/%E6%89%8B%E5%86%8C/" aria-label="View all posts with the 手册 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  手册 </a><a href="/archive/tag/%E6%94%B6%E8%97%8F/" aria-label="View all posts with the 收藏 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  收藏 </a><a href="/archive/tag/%E6%95%99%E7%A8%8B/" aria-label="View all posts with the 教程 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  教程 </a><a href="/archive/tag/%E6%97%A5%E8%AE%B0/" aria-label="View all posts with the 日记 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  日记 </a><a href="/archive/tag/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/" aria-label="View all posts with the 智能合约 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  智能合约 </a><a href="/archive/tag/%E7%94%9F%E6%B4%BB/" aria-label="View all posts with the 生活 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  生活 </a><a href="/archive/tag/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" aria-label="View all posts with the 编程语言 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  编程语言 </a><a href="/archive/tag/%E7%BD%91%E7%AB%99/" aria-label="View all posts with the 网站 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  网站 </a><a href="/archive/tag/%E8%B5%84%E6%BA%90/" aria-label="View all posts with the 资源 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  资源 </a><a href="/archive/tag/%E9%9A%8F%E7%AC%94/" aria-label="View all posts with the 随笔 tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  随笔 </a> </div>  </div> <div class="expand-btn px-4 -mb-2" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;"> <button class="btn-plain rounded-lg w-full h-9" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;"> <div class="text-[var(--primary)] flex items-center justify-center gap-2 -translate-x-2" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;"> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-[1.75rem]" data-astro-cid-ucso7hve="true" data-icon="material-symbols:more-horiz">   <use href="#ai:material-symbols:more-horiz"></use>  </svg> 更多 </div> </button> </div> </widget-layout>   </div> </div> <main id="swup-container" class="transition-swup-fade col-span-2 lg:col-span-1 overflow-hidden"> <div id="content-wrapper" class="onload-animation"> <!-- the overflow-hidden here prevent long text break the layout--> <!-- make id different from windows.swup global property -->   <div class="flex w-full rounded-[var(--radius-large)] overflow-hidden relative mb-4"> <div id="post-container" class="card-base z-10 px-6 md:px-9 pt-6 pb-4 relative w-full "> <!-- word count and reading time --> <div class="flex flex-row text-black/30 dark:text-white/30 gap-5 mb-3 transition onload-animation"> <div class="flex flex-row items-center"> <div class="transition h-6 w-6 rounded-md bg-black/5 dark:bg-white/10 text-black/50 dark:text-white/50 flex items-center justify-center mr-2"> <svg width="1em" height="1em" data-icon="material-symbols:notes-rounded">   <symbol id="ai:material-symbols:notes-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M4 18q-.425 0-.712-.288T3 17t.288-.712T4 16h10q.425 0 .713.288T15 17t-.288.713T14 18zm0-5q-.425 0-.712-.288T3 12t.288-.712T4 11h16q.425 0 .713.288T21 12t-.288.713T20 13zm0-5q-.425 0-.712-.288T3 7t.288-.712T4 6h16q.425 0 .713.288T21 7t-.288.713T20 8z"/></symbol><use href="#ai:material-symbols:notes-rounded"></use>  </svg> </div> <div class="text-sm">12106  字</div> </div> <div class="flex flex-row items-center"> <div class="transition h-6 w-6 rounded-md bg-black/5 dark:bg-white/10 text-black/50 dark:text-white/50 flex items-center justify-center mr-2"> <svg width="1em" height="1em" data-icon="material-symbols:schedule-outline-rounded">   <symbol id="ai:material-symbols:schedule-outline-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M13 11.6V8q0-.425-.288-.712T12 7t-.712.288T11 8v3.975q0 .2.075.388t.225.337l3.3 3.3q.275.275.7.275T16 16t.275-.7t-.275-.7zM12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22m0-2q3.325 0 5.663-2.337T20 12t-2.337-5.663T12 4T6.337 6.338T4 12t2.338 5.663T12 20"/></symbol><use href="#ai:material-symbols:schedule-outline-rounded"></use>  </svg> </div> <div class="text-sm">61  分钟</div> </div> </div> <!-- title --> <div class="relative onload-animation"> <div data-pagefind-body data-pagefind-weight="10" data-pagefind-meta="title" class="transition w-full block font-bold mb-3
                    text-3xl md:text-[2.25rem]/[2.75rem]
                    text-black/90 dark:text-white/90
                    md:before:w-1 before:h-5 before:rounded-md before:bg-[var(--primary)]
                    before:absolute before:top-[0.75rem] before:left-[-1.125rem]
                "> 震惊！这门国产编程语言竟能一招搞定全场景！开发者：学不会就OUT了！！ </div> </div> <!-- metadata --> <div class="onload-animation"> <div class="flex flex-wrap text-neutral-500 dark:text-neutral-400 items-center gap-4 gap-x-4 gap-y-2 mb-5"> <!-- publish date --> <div class="flex items-center"> <div class="meta-icon"> <svg width="1em" height="1em" class="text-xl" data-icon="material-symbols:calendar-today-outline-rounded">   <symbol id="ai:material-symbols:calendar-today-outline-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M5 22q-.825 0-1.412-.587T3 20V6q0-.825.588-1.412T5 4h1V3q0-.425.288-.712T7 2t.713.288T8 3v1h8V3q0-.425.288-.712T17 2t.713.288T18 3v1h1q.825 0 1.413.588T21 6v14q0 .825-.587 1.413T19 22zm0-2h14V10H5zM5 8h14V6H5zm0 0V6z"/></symbol><use href="#ai:material-symbols:calendar-today-outline-rounded"></use>  </svg> </div> <span class="text-50 text-sm font-medium">2025-05-12</span> </div> <!-- update date -->  <!-- categories --> <div class="flex items-center"> <div class="meta-icon"> <svg width="1em" height="1em" class="text-xl" data-icon="material-symbols:book-2-outline-rounded">   <symbol id="ai:material-symbols:book-2-outline-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M6 15.325q.35-.175.725-.25T7.5 15H8V4h-.5q-.625 0-1.062.438T6 5.5zM10 15h8V4h-8zm-4 .325V4zM7.5 22q-1.45 0-2.475-1.025T4 18.5v-13q0-1.45 1.025-2.475T7.5 2H18q.825 0 1.413.587T20 4v12.525q0 .2-.162.363t-.588.362q-.35.175-.55.5t-.2.75t.2.763t.55.487t.55.413t.2.562v.25q0 .425-.288.725T19 22zm0-2h9.325q-.15-.35-.237-.712T16.5 18.5q0-.4.075-.775t.25-.725H7.5q-.65 0-1.075.438T6 18.5q0 .65.425 1.075T7.5 20"/></symbol><use href="#ai:material-symbols:book-2-outline-rounded"></use>  </svg> </div> <div class="flex flex-row flex-nowrap items-center"> <a href="/archive/category/Document/" aria-label="View all posts in the Document category" class="link-lg transition text-50 text-sm font-medium
                            hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> Document </a> </div> </div> <!-- tags --> <div class="items-center flex"> <div class="meta-icon"> <svg width="1em" height="1em" class="text-xl" data-icon="material-symbols:tag-rounded">   <symbol id="ai:material-symbols:tag-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="m9 16l-.825 3.275q-.075.325-.325.525t-.6.2q-.475 0-.775-.375T6.3 18.8L7 16H4.275q-.5 0-.8-.387T3.3 14.75q.075-.35.35-.55t.625-.2H7.5l1-4H5.775q-.5 0-.8-.387T4.8 8.75q.075-.35.35-.55t.625-.2H9l.825-3.275Q9.9 4.4 10.15 4.2t.6-.2q.475 0 .775.375t.175.825L11 8h4l.825-3.275q.075-.325.325-.525t.6-.2q.475 0 .775.375t.175.825L17 8h2.725q.5 0 .8.387t.175.863q-.075.35-.35.55t-.625.2H16.5l-1 4h2.725q.5 0 .8.388t.175.862q-.075.35-.35.55t-.625.2H15l-.825 3.275q-.075.325-.325.525t-.6.2q-.475 0-.775-.375T12.3 18.8L13 16zm.5-2h4l1-4h-4z"/></symbol><use href="#ai:material-symbols:tag-rounded"></use>  </svg> </div> <div class="flex flex-row flex-nowrap items-center"> <div class="hidden mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/%E4%BB%93%E9%A2%89/" aria-label="View all posts with the 仓颉 tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> 仓颉 </a><div class="mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/Cangjie/" aria-label="View all posts with the Cangjie tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> Cangjie </a><div class="mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/%E6%95%99%E7%A8%8B/" aria-label="View all posts with the 教程 tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> 教程 </a><div class="mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/%E6%89%8B%E5%86%8C/" aria-label="View all posts with the 手册 tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> 手册 </a><div class="mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/tag/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" aria-label="View all posts with the 编程语言 tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> 编程语言 </a>  </div> </div> </div>  </div> <!-- always show cover as long as it has one --> <div id="post-cover" class="mb-8 rounded-xl banner-container onload-animation overflow-hidden relative"> <div class="transition absolute inset-0 dark:bg-black/10 bg-opacity-50 pointer-events-none"></div>  <img src="https://raw.gitcode.com/Cangjie/CangjieCommunity/attachment/uploads/c6c1048a-6989-4611-9542-262d16eee7b7/CF26F37C-A0A0-4AAC-9351-78BD3B4ECB89.jpg" alt class="w-full h-full object-cover" style="object-position: center"> </div> <div data-pagefind-body class="prose dark:prose-invert prose-base !max-w-none custom-md mb-6 markdown-content onload-animation"> <!--<div class="prose dark:prose-invert max-w-none custom-md">--> <!--<div class="max-w-none custom-md">-->  <p>我是一名仓颉编程语言的体验开发者, 从仓颉编程语言上线公测后, 一直有使用, 练习时长0.4*两年半。<br>
正如标题所说, 仓颉编程语言是一款面向全场景智能的新一代编程语言, 主打原生智能化、天生全场景、高性能、强安全。融入鸿蒙生态，为开发者提供良好的编程体验。全方位的编译优化和运行时实现、以及开箱即用的 IDE 工具链支持，为开发者打造友好开发体验和卓越程序性能。<br>
它汲取了C语言的简洁高效、Java的面向对象特性、Go语言的并发处理优势、Rust的内存安全机制以及Python的易读易写风格。<br>
当然, 新编程语言的诞生总免不了遭到谩骂唾弃, 但这是一款国产编程语言, 纵使其目前还不太行, 但作为一名Cn Coder, 没有理由不支持不尝试。<br>
是的, “有剑不用”和”没有剑用” 两者的背后深意很大, 纵使”花厂”在互联网上的名声可能不太好, 但起码这家伙确确实实在一步一步的抬高国内计算机技术的竞争力, 这点不可否认。\</p>
<section><h2 id="初识-仓颉-编程语言">初识 <code>仓颉</code> 编程语言<a class="anchor" href="#初识-仓颉-编程语言"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><p>仓颉编程语言是一种面向全场景应用开发的编程语言, 可以兼顾开发效率和运行性能, 提供良好的编程体验。</p><p>举个栗子:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>from net import http.ServerBuilder, http.FuncHandler</span></span>
<span class="line"><span>main() {</span></span>
<span class="line"><span>    let server = ServerBuilder().addr("127.0.0.1").port(8080).build()</span></span>
<span class="line"><span>    server.distributor.register("/index", FuncHandler({httpContext => </span></span>
<span class="line"><span>        httpContext.responseBuilder.body("Hello, Cangjie!")</span></span>
<span class="line"><span>    }))</span></span>
<span class="line"><span>    server.serve()</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span></code></pre></section>
<section><h2 id="仓颉编程语言特性">仓颉编程语言特性<a class="anchor" href="#仓颉编程语言特性"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><ul>
<li>语法简洁高效</li>
<li>多范式编程</li>
<li>类型安全</li>
<li>内存安全</li>
<li>高效并发</li>
<li>兼容语言生态</li>
<li>领域易拓展</li>
<li>助力UI开发</li>
<li>内置库功能丰富</li>
</ul></section>
<section><h2 id="环境配置及运行第一个仓颉程序">环境配置及运行第一个仓颉程序<a class="anchor" href="#环境配置及运行第一个仓颉程序"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><ol>
<li>安装仓颉编程语言
<ul>
<li>访问 <a href="https://cangjie-lang.cn/docs">仓颉编程语言官网文档</a> 下载最新版本的安装包。</li>
<li>根据操作系统的不同，选择相应的安装方式进行安装。</li>
</ul>
</li>
<li>配置环境变量
<ul>
<li>将仓颉编程语言的安装目录添加到系统的环境变量中，以便在命令行中直接使用 <code>cjc</code> 命令。</li>
<li>在控制台中输入 <code>cjc -v</code> 命令，检查是否安装成功。</li>
<li>如果安装成功，控制台会输出仓颉编程语言的版本信息。</li>
</ul>
</li>
</ol><section><h3 id="创建第一个仓颉程序">创建第一个仓颉程序<a class="anchor" href="#创建第一个仓颉程序"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>首先, 请在适当目录下新建一个名为<code>hello.cj</code>的文本文件, 并向文件中写入以下仓颉代码</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    println("Hello, Cangjie!")</span></span>
<span class="line"><span>}</span></span></code></pre><p>然后, 请在此目录下执行如下命令:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">cjc</span><span style="color:#9ECBFF"> hello.cj</span><span style="color:#79B8FF"> -o</span><span style="color:#9ECBFF"> hello</span></span></code></pre><p>这里仓颉编辑器会将<code>hello.cj</code>中的源代码编译为此平台上的可执行文件<code>hello</code>,在命令行环境中运行此文件, 您将看到程序输出了如下内容:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">Hello,</span><span style="color:#9ECBFF"> Cangjie!</span></span></code></pre><p><strong>温馨提示</strong><br>
以上编译命令是针对Linux/macOS 平台的, 如果在 Windows 平台上使用仓颉编程语言, 请将 <code>hello</code> 替换为 <code>hello.exe</code>。</p></section></section>
<section><h2 id="标识符">标识符<a class="anchor" href="#标识符"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><p>仓颉编程语言的标识符由字母、数字和下划线组成，且必须以字母或下划线开头。标识符是区分大小写的, 标识符分为<code>普通标识符</code>和<code>原始标识符</code>两种类型, 它们分别遵从不同的命名规则。</p><section><h3 id="普通标识符">普通标识符<a class="anchor" href="#普通标识符"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p><code>普通标识符</code>不能和仓颉关键字相同, 可以取自以下两类字符序列:</p><ul>
<li>由英文字母开头, 后接零至多个英文字母、数字或下划线</li>
<li>由一至多个下划线<code>_</code>开头, 后接一个英文字母, 最后可接零至多个英文字母、数字或下划线<code>_</code></li>
</ul><section><h4 id="合法的普通标识符">合法的普通标识符<a class="anchor" href="#合法的普通标识符"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>abc</span></span>
<span class="line"><span>_abc</span></span>
<span class="line"><span>abc_</span></span>
<span class="line"><span>a1b2c3</span></span>
<span class="line"><span>a_b_c</span></span>
<span class="line"><span>a1_b2_c3</span></span></code></pre></section><section><h4 id="不合法的普通标识符">不合法的普通标识符<a class="anchor" href="#不合法的普通标识符"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>ab&#x26;c    // 使用了非法字符 "&#x26;"</span></span>
<span class="line"><span>_123    // 起始下划线 "_" 后不能接数字</span></span>
<span class="line"><span>3abc    // 数字不能出现在头部</span></span>
<span class="line"><span>while   // 不能使用仓颉关键字</span></span></code></pre></section></section><section><h3 id="原始标识符">原始标识符<a class="anchor" href="#原始标识符"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p><code>原始标识符</code>是以反引号` ` 开头和结尾的字符序列, 反引号内的字符序列可以包含任何字符, 但不能包含反引号本身。</p><section><h4 id="合法的原始标识符">合法的原始标识符<a class="anchor" href="#合法的原始标识符"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>`abc`</span></span>
<span class="line"><span>`_abc`</span></span>
<span class="line"><span>`a1b2c3`</span></span>
<span class="line"><span>`if`</span></span>
<span class="line"><span>`while`</span></span></code></pre></section><section><h4 id="不合法的原始标识符">不合法的原始标识符<a class="anchor" href="#不合法的原始标识符"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>`ab&#x26;c`</span></span>
<span class="line"><span>`_123`</span></span>
<span class="line"><span>`3abc`</span></span></code></pre></section></section></section>
<section><h2 id="变量">变量<a class="anchor" href="#变量"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><p>在仓颉编程语言中, 一个变量由对应的变量名、数据(值)和若干属性构成, 开发者通过变量名访问变量对应的数据, 但访问操作需要遵从相关属性的约束(如数据类型、可变性和可见性等)</p><p>变量定义的具体形式为: <code>修饰符</code>  <code>变量名</code>: <code>变量类型</code> = <code>初始值</code></p><p>其中<code>修饰符</code>用于设置变量的各类属性, 可以有一个或多个, 常用的修饰符包括:</p><ul>
<li>可变性修饰符: let 或 var, 分别对应不可变和可变属性, 可变性决定了变量被初始化后其值还能否改变, 仓颉变量也由此分为不可变变量和可变变量两类。</li>
<li>可见性修饰符: private 和 public 等, 影响全局变量和成员变量的可引用范围, 可见性修饰符决定了变量的作用域, 影响变量的可见性和访问权限。</li>
<li>静态性修饰符: static, 影响成员变量的存储和引用方式, 静态变量在类加载时被初始化, 其生命周期与类的生命周期相同, 而非静态变量在每次实例化对象时被初始化, 其生命周期与对象的生命周期相同。</li>
</ul><p>在定义仓颉变量时, 可变性修饰符是必要的, 在此基础上, 还可以根据需要添加其他修饰符</p><ul>
<li><code>变量名</code>应是一个合法的仓颉标识符。</li>
<li><code>变量类型</code>指定了变量所持有数据的类型。当初始值具有明确类型时, 可以省略变量类型标注, 此时编译器可以自动推断出变量类型。</li>
<li><code>初始值</code>是一个仓颉表达式, 用于初始化变量, 如果标注了变量类型, 需要保证初始值类型和变量类型一致。在定义全局变量或静态成员变量时, 必须指定初始值。在定义局部变量或实例成员变量时, 可以省略初始值, 但需要标注变量类型, 同时要在此变量被引用前完成初始化, 否则编译会错误。</li>
</ul><p>来看一个例子: 定义了两个Int64类型的不可变变量a和可变变量b,随后修改了变量b的值, 并调用printlc函数打印a与b的值</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    let a: Int64 = 20</span></span>
<span class="line"><span>    var b: Int64 = 12</span></span>
<span class="line"><span>    b = 23</span></span>
<span class="line"><span>    println("${a}${b}")                 // 2023</span></span>
<span class="line"><span>    println("a = ${a}", ", b = ${b}")   // a = 20, b = 23</span></span>
<span class="line"><span>}</span></span></code></pre><p>如果尝试修改不可变变量, 编译时会报错</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    let pi: Float64 = 3.14159265</span></span>
<span class="line"><span>    pi = 2.71828 // 错误: pi是不可变变量, 不能被修改</span></span>
<span class="line"><span>}</span></span></code></pre><p>当初始值具有明确类型时, 可以省略变量类型标注</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    let a: Int64 = 2023</span></span>
<span class="line"><span>    let b = a</span></span>
<span class="line"><span>    println("a - b = ${a - b}")</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>// result: a - b = 0</span></span></code></pre><p>其中变量b的类型可以由其初值a的类型自动推断为Int64, 所以此程序也可以被正常编译和运行, 将输出<code>a - b = 0</code></p><p>在定义局部变量时, 可以不进行初始化, 但一定要在变量被引用前赋予初值</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    let text: String</span></span>
<span class="line"><span>    text = "仓颉造字" // Cangjie</span></span>
<span class="line"><span>    println(text)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>// result: 仓颉造字</span></span>
<span class="line"><span>// TODO: 可能会出现乱码情况, 这是编码问题</span></span></code></pre><p>在定义全局变量和静态成员变量时必须初始化, 否则编译会报错</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>// example.cj</span></span>
<span class="line"><span>let global: Int64 // Error, variable in top-level scope must be</span></span></code></pre></section>
<section><h2 id="if-表达式">if 表达式<a class="anchor" href="#if-表达式"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><p><code>if</code> 表达式的基本形式为</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>if (条件 1) {</span></span>
<span class="line"><span>    分支 1</span></span>
<span class="line"><span>} else if (条件 2) {</span></span>
<span class="line"><span>    分支 2</span></span>
<span class="line"><span>} else {</span></span>
<span class="line"><span>    分支 3</span></span>
<span class="line"><span>}</span></span></code></pre><p>其中”条件”是布尔类型表达式, “分支 1”和”分支 2”是两个代码块。<code>if</code> 表达式将按如下规则执行</p><ol>
<li>计算”条件 1”表达式, 如果值为<code>true</code>则执行”分支 1”, 值为<code>false</code>则跳到 else if 判断计算”条件 2”或 else 判断</li>
<li>执行”分支 x”, 然后跳出<code>if</code>表达式</li>
<li>继续执行<code>if</code>表达式后面的代码</li>
</ol><p>在一些场景中, 我们可能只关注条件成立时该做些什么, 所以<code>else</code>和对应的代码块是允许省略的</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>from std import random.*</span></span>
<span class="line"><span>main() {</span></span>
<span class="line"><span>    let number: Int8 = Random().nextInt8()</span></span>
<span class="line"><span>    println(number)</span></span>
<span class="line"><span>    if (number %2 == 0) {</span></span>
<span class="line"><span>        println("even")</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>        println("odd")</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><p>在这段程序中, 我们使用了仓颉标准库的<code>random</code>包生成了一个随机数, 然后使用<code>if</code>表达式判断这个整数是否能被2整除, 并在不同的条件分支中打印”偶数”或”奇数”</p><p>仓颉编程语言是强类型的, <code>if</code>表达式的条件只能是布尔类型, 不能使用整数或浮点数等类型, 和C语言不同, 仓颉不以条件取值是否为0作为分支选择依据, 否则会报错</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    let number = 1</span></span>
<span class="line"><span>    if (number) {           // error: mismatched types</span></span>
<span class="line"><span>        println("非零")</span></span>
<span class="line"><span>    } </span></span>
<span class="line"><span>}</span></span></code></pre><p>在许多场景中, 当一个条件不成立时, 我们可能还要判断另一个或多个条件、在执行对应的动作, 仓颉允许在<code>else</code> 之后跟随新的<code>if</code>表达式, 由此支持多级条件判断和分支执行</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>from std import random.*</span></span>
<span class="line"><span>main() {</span></span>
<span class="line"><span>    let speed = Random(). nextFloat64() * 20.0</span></span>
<span class="line"><span>    println("${speed} km/s")</span></span>
<span class="line"><span>    if (speed > 16.7) {</span></span>
<span class="line"><span>        println("第三宇宙速度, 鹊桥相会")</span></span>
<span class="line"><span>    } else if (speed > 11.2) {</span></span>
<span class="line"><span>        println("第二宇宙速度, 嫦娥奔月")</span></span>
<span class="line"><span>    } else if (speed > 7.9) {</span></span>
<span class="line"><span>        println("第一宇宙速度, 腾云驾雾")</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>        println("脚踏实地, 仰望星空")</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><p><strong>温馨提示</strong><br>
下列print、println、eprint、eprintln函数默认为UTF-8编码, windows环境需要手动执行命令<code>chcp 65001</code>(将cmd更改为UTF-8编码)。</p></section>
<section><h2 id="while-表达式">while 表达式<a class="anchor" href="#while-表达式"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><p><code>while</code> 表达式的基本形式为</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>while (条件) {</span></span>
<span class="line"><span>    循环体</span></span>
<span class="line"><span>}</span></span></code></pre><p>其中”条件”是布尔类型表达式, “循环体”是一个代码块。<code>while</code> 表达式将按如下规则执行</p><ol>
<li>计算”条件”表达式, 如果值为<code>true</code>则执行”循环体”, 值为<code>false</code>则跳出<code>while</code>表达式</li>
<li>执行”循环体”, 然后跳回第1步</li>
<li>继续执行<code>while</code>表达式后面的代码</li>
</ol><p>以下程序使用<code>while</code>表达式, 输出数字 0 到 10</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    var num: Int64 = 0</span></span>
<span class="line"><span>    while (num &#x3C;= 10) {</span></span>
<span class="line"><span>        println(num)</span></span>
<span class="line"><span>        num++</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    println("while执行完毕")</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## do-while 表达式</span></span>
<span class="line"><span>`do-while` 表达式的基本形式为</span></span>
<span class="line"><span></span></span>
<span class="line"><span>```Cangjie</span></span>
<span class="line"><span>do {</span></span>
<span class="line"><span>    循环体</span></span>
<span class="line"><span>} while (条件)</span></span></code></pre><p>其中”条件”是布尔类型表达式, “循环体”是一个代码块。<code>do-while</code> 表达式将按如下规则执行</p><ol>
<li>执行”循环体”, 转第2步</li>
<li>计算”条件”表达式, 如果值为<code>true</code>则跳回第1步, 值为<code>false</code>则跳出<code>do-while</code>表达式</li>
<li>继续执行<code>do-while</code>表达式后面的代码</li>
</ol><p>以下程序使用<code>do-while</code>表达式, 输出数字 0 到 10</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    var num: Int64 = 0</span></span>
<span class="line"><span>    do {</span></span>
<span class="line"><span>        println(num)</span></span>
<span class="line"><span>        num++</span></span>
<span class="line"><span>    } while (num &#x3C;= 10)</span></span>
<span class="line"><span>    println("do-while执行完毕")</span></span>
<span class="line"><span>}</span></span></code></pre></section>
<section><h2 id="for-in-表达式">for-in 表达式<a class="anchor" href="#for-in-表达式"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><p>for-in 表达式可以遍历那些扩展了迭代器接口iterable&#x3C;T>的类型实例</p><p>for-in 表达式的基本形式为</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>for (迭代变量 in 序列) {</span></span>
<span class="line"><span>    循环体</span></span>
<span class="line"><span>}</span></span></code></pre><p>其中”循环体”是一个代码块, “迭代变量”用于绑定每轮遍历中由迭代器指向的数据, 可以作为”循环体”中的局部变量使用。“序列”是一个表达式, 目前我们理解为一组数据, 例如<code>["张三", "李四", "王五"]</code></p><ol>
<li>计算”序列”表达式, 将其值作为遍历对象, 并初始化遍历对象的迭代器。</li>
<li>更新迭代器, 如果迭代器终止, 转第4步, 否则转第3步</li>
<li>将当前迭代器指向的数据与”迭代变量”绑定, 并执行”循环体”, 转第2步。</li>
<li>结束循环, 继续执行for-in表达式后面的代码</li>
</ol><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>        [开始]</span></span>
<span class="line"><span>          |</span></span>
<span class="line"><span>          v</span></span>
<span class="line"><span>       /       \</span></span>
<span class="line"><span>      /  遍历是  \</span></span>
<span class="line"><span>     /   否结束   \</span></span>
<span class="line"><span>    |             |</span></span>
<span class="line"><span>    | YES         | NO</span></span>
<span class="line"><span>    v             v</span></span>
<span class="line"><span>  [结束]       [print(i)]</span></span>
<span class="line"><span>                  |</span></span>
<span class="line"><span>                  ------------|</span></span>
<span class="line"><span>                              |</span></span>
<span class="line"><span>                              v</span></span>
<span class="line"><span>                         回到判断条件</span></span></code></pre><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    let userName = ["张三", "李四", "王五"]</span></span>
<span class="line"><span>    for (name in userName) {</span></span>
<span class="line"><span>        print(name)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>// result: 张三李四王五</span></span></code></pre><section><h3 id="遍历区间">遍历区间<a class="anchor" href="#遍历区间"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>for-in 表达式可以遍历区间类型实例
区间的格式是 <code>start..=end:step</code></p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>1..=100 // 表示从1~100的数字</span></span></code></pre><p>利用for-in表达式完成从0+…100的数字和</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    var num = 0</span></span>
<span class="line"><span>    for (i in 1..=100) {</span></span>
<span class="line"><span>        sum += i</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    println("sum = ${sum}")</span></span>
<span class="line"><span>}</span></span></code></pre></section><section><h3 id="迭代变量不可修改">迭代变量不可修改<a class="anchor" href="#迭代变量不可修改"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>在 for-in 表达式的循环体中, 不能修改迭代变量, 例如以下程序在编译时会报错:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    for (i in 0..5){</span></span>
<span class="line"><span>        i = i * 10 // error: cannot assign to immutable value</span></span>
<span class="line"><span>        println(i)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></section><section><h3 id="where-条件">where 条件<a class="anchor" href="#where-条件"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>在部分循环遍历场景中, 对于特定取值的迭代变量, 我们可能需要直接跳过, 进入下一轮循环, 仓颉为此提供了更便捷的表达方式—可以在所遍历的”序列”之后用where关键字引导一个布尔表达式, 这样在每次将进入循环体执行前, 会先计算此表达式, 如果值为true则执行循环体, 反之直接进入下一轮循环</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    for (i in 0..8 where i % 2 == 1) {  // i 为奇数时才会执行循环体</span></span>
<span class="line"><span>        println("i = ${i}")</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>// result: 1 3 5 7</span></span></code></pre></section></section>
<section><h2 id="break-与-continue-表达式">break 与 continue 表达式<a class="anchor" href="#break-与-continue-表达式"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><p>在循环结构的程序中, 有时我们需要根据特定条件提前结束循环或跳过本轮循环, 为此仓颉引入了<code>break</code>与<code>continue</code>表达式, 它们可以出现在循环表达式的循环体中, break用于终止当前循环表达式的执行、转去执行循环表达式后面的代码, continue用于跳过本轮循环, 直接转去执行下一轮循环</p><p>例如, 以下程序使用for-in表达式和break表达式, 在给定的整数数组中, 找到第一个能被5整除的数字:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    let numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span>
<span class="line"><span>    for (number in numbers) {</span></span>
<span class="line"><span>        if (number % 5 == 0) {</span></span>
<span class="line"><span>            println("第一个能被5整除的数字是: ${number}")</span></span>
<span class="line"><span>            break</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><p>以下程序使用for-in表达式和continue表达式, 将给定的整数数组中的奇数打印出来:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    let numbers = [12, 18, 25, 36, 49, 55]</span></span>
<span class="line"><span>    for (number in numbers) {</span></span>
<span class="line"><span>        if (number % 2 == 0) {</span></span>
<span class="line"><span>            continue  // 如果是偶数, 跳过本轮循环</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        println("奇数: ${number}")</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>// result: 奇数: 25 奇数: 49 奇数: 55</span></span></code></pre></section>
<section><h2 id="基本数据类型">基本数据类型<a class="anchor" href="#基本数据类型"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><p>仓颉中的基本数据类型, 包括: 整数类型、浮点类型、布尔类型、字符类型、字符串类型、<code>Unit</code>类型、元组类型、区间类型、<code>Nothing</code>类型</p><section><h3 id="整数类型-intuint">整数类型 Int&#x26;UInt<a class="anchor" href="#整数类型-intuint"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>整数类型分为有符号 (signed) 整数类型和无符号 (unsigned) 整数类型<br>
<strong>有符号整数类型</strong>: <code>Int8</code>、<code>Int16</code>、<code>Int32</code>、<code>Int64</code><br>
<strong>无符号整数类型</strong>: <code>UInt8</code>、<code>UInt16</code>、<code>UInt32</code>、<code>UInt64</code></p><p>下表列出了所有整数类型的表示范围</p>








































<table><thead><tr><th>类型</th><th>表示范围</th></tr></thead><tbody><tr><td>Int8</td><td>-2<sup>7</sup> ~ 2<sup>7</sup>-1 (-128 ~ 127)</td></tr><tr><td>Int16</td><td>-2<sup>15</sup> ~ 2<sup>15</sup>-1 (-32,768 ~ 32,767)</td></tr><tr><td>Int32</td><td>-2<sup>31</sup> ~ 2<sup>31</sup>-1 (-2,147,483,648 ~ 2,147,483,647)</td></tr><tr><td>Int64</td><td>-2<sup>63</sup> ~ 2<sup>63</sup>-1 (-9,223,372,036,854,775,808 ~ 9,223,372,036,854,775,807)</td></tr><tr><td>UInt8</td><td>0 ~ 2<sup>8</sup>-1 (0 ~ 255)</td></tr><tr><td>UInt16</td><td>0 ~ 2<sup>16</sup>-1 (0 ~ 65,535)</td></tr><tr><td>UInt32</td><td>0 ~ 2<sup>32</sup>-1 (0 ~ 4,294,967,295)</td></tr><tr><td>UInt64</td><td>0 ~ 2<sup>64</sup>-1 (0 ~ 18,446,744,073,709,551,615)</td></tr></tbody></table><p>程序具体使用哪种整数类型, 取决于该程序中需要处理的整数的性质和范围。在<code>Int64</code>类型适合的情况下, 首选<code>Int64</code>类型, 因为<code>int64</code>的表示范围足够大, 并且整数字面量在没有类型上下文的情况下默认推断为<code>Int64</code>类型, 可以避免不必要的类型转换</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    let a = 100</span></span>
<span class="line"><span>    pring(a is Int64)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>// result: true</span></span></code></pre><section><h4 id="整数类型字面量">整数类型字面量<a class="anchor" href="#整数类型字面量"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>整数类型字面量有 4 种进制表示形式: 二进制 (使用0b 或 0B 前缀)、八进制 (使用0o 或 0O 前缀)、十进制 (不使用前缀) 和十六进制 (使用0x 或 0X 前缀)。例如, 对于十进制数 24, 表示成二进制是 0b00011000 (或 0B00011000)、八进制是 0o30 (或 0O30)、十六进制是 0x18 (或 0X18)。<br>
在使用整数类型时, 可以通过加入后缀来明确整数字面量的类型, 后缀于类型的对应为</p>


























<table><thead><tr><th>整数类型</th><th>Int8</th><th>Int16</th><th>Int32</th><th>Int64</th><th>UInt8</th><th>UInt16</th><th>UInt32</th><th>UInt64</th></tr></thead><tbody><tr><td>字面量后缀</td><td>i8</td><td>i16</td><td>i32</td><td>i64</td><td>u8</td><td>u16</td><td>u32</td><td>u64</td></tr></tbody></table><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>var x = 100i8   // x is 100 with type Int8</span></span>
<span class="line"><span>var y = 16u64   // y is 16 with type UInt64</span></span>
<span class="line"><span>var z = 282i32  // z is 282 with type Int32</span></span></code></pre></section></section><section><h3 id="浮点类型-float">浮点类型 Float<a class="anchor" href="#浮点类型-float"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>浮点类型包括 Float16、Float32 和 Float64</p><p>Float64 的精度约为小数点后 15 位, Float32 的精度约为小数点后 6位, Float16 的精度约为小数点后 3 位。使用哪种浮点类型, 取决于代码中需要处理的浮点数的性质和范围。在多种浮点类型都适合的情况下, 首选精度高的浮点类型, 因为精度低的浮点类型的累计计算误差很容易扩散, 并且它能精确表示的整数范围也很有限</p><section><h4 id="浮点类型字面量">浮点类型字面量<a class="anchor" href="#浮点类型字面量"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>浮点类型字面量有两种进制表示形式: 十进制、十六进制。在十进制表示中, 一个浮点字面量至少要包含一个整数部分或一个小数部分, 没有小数部分时必须包含指数部分 (以 e 或 E 为前缀, 底数为 10)。在十六进制表示中, 一个浮点字面量除了至少要包含一个整数部分或一个小数部分 (以 0x 或 0X 为前缀), 同时必须包含指数部分 (以 p 或 P 为前缀, 底数为 2)。</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let a: Float32 = 3.14</span></span>
<span class="line"><span>let b: Float32 = 2e3</span></span>
<span class="line"><span>let c: Float32 = 2.4e-1</span></span>
<span class="line"><span>let d: Float32 = 0x1p2</span></span>
<span class="line"><span>let e: Float64 = 0x2p4</span></span></code></pre><p>在使用浮点数时, 可以通过加入后缀来明确浮点字面量的类型, 后缀与类型的对应为</p>




















<table><thead><tr><th>后缀</th><th>类型</th><th>后缀</th><th>类型</th><th>后缀</th><th>类型</th></tr></thead><tbody><tr><td>f16</td><td>Float16</td><td>f32</td><td>Float32</td><td>f64</td><td>Float64</td></tr></tbody></table><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let a = 3.14f16     // a is 3.14 with type Float16</span></span>
<span class="line"><span>let b = 2e3f32      // b is 2e3 with type Float32</span></span>
<span class="line"><span>let c = 2.4e-1f64   // c is 2.4e-1 with type Float64</span></span></code></pre></section></section><section><h3 id="布尔类型-bool">布尔类型 Bool<a class="anchor" href="#布尔类型-bool"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>布尔类型使用<code>Bool</code>表示, 用来表示逻辑中的真和假</p><section><h4 id="布尔类型字面量">布尔类型字面量<a class="anchor" href="#布尔类型字面量"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>布尔类型字面量有两个: <code>true</code> 和 <code>false</code>。布尔类型的值可以通过逻辑运算符 (如与、或、非) 进行组合和计算</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let a: Bool = true</span></span>
<span class="line"><span>let b: Bool = false</span></span>
<span class="line"><span>let c: Bool = a &#x26;&#x26; b</span></span>
<span class="line"><span>let d: Bool = a || b</span></span>
<span class="line"><span>let e: Bool = !a</span></span></code></pre></section><section><h4 id="回顾if表达式">回顾if表达式<a class="anchor" href="#回顾if表达式"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>from std import random.*</span></span>
<span class="line"><span>main() {</span></span>
<span class="line"><span>    let speed = Random(). nextFloat64() * 20.0</span></span>
<span class="line"><span>    println("${speed} km/s")</span></span>
<span class="line"><span>    println(speed > 16.7)               // true or false</span></span>
<span class="line"><span>    if (speed > 16.7) {</span></span>
<span class="line"><span>        println("第三宇宙速度, 鹊桥相会")</span></span>
<span class="line"><span>    } else if (speed > 11.2) {</span></span>
<span class="line"><span>        println("第二宇宙速度, 嫦娥奔月")</span></span>
<span class="line"><span>    } else if (speed > 7.9) {</span></span>
<span class="line"><span>        println("第一宇宙速度, 腾云驾雾")</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>        println("脚踏实地, 仰望星空")</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></section><section><h4 id="回顾while表达式">回顾while表达式<a class="anchor" href="#回顾while表达式"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    var num: Int64 = 0</span></span>
<span class="line"><span>    while (num &#x3C;= 10) {</span></span>
<span class="line"><span>        println(num)</span></span>
<span class="line"><span>        num++</span></span>
<span class="line"><span>        println(num &#x3C;= 10)              // true or false</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    println("while执行完毕")</span></span>
<span class="line"><span>}</span></span></code></pre></section></section><section><h3 id="字符类型-rune">字符类型 Rune<a class="anchor" href="#字符类型-rune"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>字符类型使用<code>Char</code>表示, 可以表示 Unicode 字符集中的所有字符。<br>
当前, 仓颉已经引入了<code>Rune</code>, <code>Rune</code>是<code>Char</code>的类型别名, 定义为<code>type Rune = Char</code><br>
<code>Rune</code>的语义与<code>Char</code>相同。目前<code>Rune</code>与<code>Char</code>短期共存, 但是将来<code>Char</code>将会被删除, 建议需要使用字符类型的地方使用<code>Rune</code></p><p><strong>温馨提示</strong><br>
Unicode源于一个很简单的想法: 将全世界所有的字符包含在一个集合里, 计算机只要支持这一个字符集, 就能显示所有的字符, 再也不会有乱码了</p><section><h4 id="字符类型字面量">字符类型字面量<a class="anchor" href="#字符类型字面量"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>字符类型字面量有三种形式: 单个字符、转义字符和通用字符, 它们均使用一对单引号定义</p><p><code>单个字符</code>的字符字面量举例:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let a: Rune = 'a'</span></span>
<span class="line"><span>let b: Rune = 'b'</span></span></code></pre><p><code>转义字符</code>是指在一个字符序列中对后面的字符进行另一种解释的字符。转义字符使用转义符号<code>\</code>开头, 后面加需要转义的字符。 举例如下:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let slash: Rune = '\\'</span></span>
<span class="line"><span>let newline: Rune = '\n'</span></span>
<span class="line"><span>let tab: Rune = '\t'</span></span></code></pre><p><code>通用字符</code>以<code>\u</code>开头, 后面加上定义在一对花括号<code>{}</code>中的 1~8个十六进制数, 即可表示对应的 Unicode 值代表的字符。 举例如下:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    let a: Rune = '\u{4E2D}' // 中</span></span>
<span class="line"><span>    let b: Rune = '\u{534E}' // 华</span></span>
<span class="line"><span>    let c: Rune = '\u{6C11}' // 民</span></span>
<span class="line"><span>    let d: Rune = '\u{65CF}' // 族</span></span>
<span class="line"><span>    let result: String = String(a) + String(b) + String(c) + String(d)</span></span>
<span class="line"><span>    print(result)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>// result: 中华民族</span></span></code></pre></section></section><section><h3 id="字符串类型-string">字符串类型 String<a class="anchor" href="#字符串类型-string"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>字符串类型使用<code>String</code>表示, 用于表达文本数据, 由一串 Unicode 字符组合而成</p><section><h4 id="字符串类型字面量">字符串类型字面量<a class="anchor" href="#字符串类型字面量"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>字符串字面量分为三类: 单行字符串字面量、多行字符串字面量、多行原始字符串字面量</p><p><code>单行字符串字面量</code> 的内容定义在一对双引号之内<code>""</code>, 双引号中的内容可以是任意数量的 (除了非转义的双引号和单独出现的<code>\</code>之外的) 任意字符。单行字符串字面量只能写在同一行,不能跨多行</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let s1: String = ""</span></span>
<span class="line"><span>let s2 = "Hello Cangjie Lang"</span></span>
<span class="line"><span>let s3 = "\"Hello Cangjie Lang\""</span></span>
<span class="line"><span>let s4 = "Hello Cangjie Lang\n"</span></span></code></pre><p><code>多行字符串字面量</code> 以三个双引号开头<code>"""</code>, 并以三个双引号结尾<code>"""</code>,并且开头的三个双引号之后需要换行(否则编译错误)。字面量的内容从开头的三个双引号换行后的第一行开始, 到结尾的三个双引号之前结束, 之前的内容可以是任意数量的(除单个出现的<code>\</code>之外的) 任意字符。不同于单行字符串字面量, 多行字符串字面量可以跨多行。</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let s1: String = """</span></span>
<span class="line"><span>"""</span></span>
<span class="line"><span>let s2 = """</span></span>
<span class="line"><span>    Hello,</span></span>
<span class="line"><span>    Cangjie Lang"""</span></span></code></pre><p><code>多行原始字符串字面量</code> 以一个或多个井号<code>#</code> 加上一个双引号开始, 并以一个双引号加上和开始相同个数的<code>#</code>结束。开始的双引号和结束的双引号之间的内容可以是任意数量的任意合法字符。不同于 (普通) 多行字符串字面量, 多行原始字符串字面量中的内容会维持原样 (转义字符不会被转义, 如下例中 s2 中的 \n 不是换行符, 而是由 \ 和 n 组成的字符串 \n)</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let s1: String = #""#</span></span>
<span class="line"><span>let s2 = ##"\n"##</span></span>
<span class="line"><span>let s3 = ###"</span></span>
<span class="line"><span>    Hello,</span></span>
<span class="line"><span>    Canjie</span></span>
<span class="line"><span>    Lang"###</span></span></code></pre></section><section><h4 id="插值字符串">插值字符串<a class="anchor" href="#插值字符串"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p><code>插值字符串</code>是一种包含一个或多个插值表达式的字符串字面量 (不适用于多行原始字符串字面量), 通过将表达式插入到字符串中, 可以有效避免字符串拼接的问题。</p><p>插值表达式必须用花括号<code>{}</code>包起来, 并在花括号前加上美元符号<code>$</code>, 例如<code>"${expression}"</code>。<code>{}</code>中可以包含一个或者多个声明或表达式</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    let fruit = "apples"</span></span>
<span class="line"><span>    let count = 10</span></span>
<span class="line"><span>    let s = "There are ${count * count} ${fruit}"</span></span>
<span class="line"><span>    println(s)  // There are 100 apples</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    let r = 2.4</span></span>
<span class="line"><span>    let area = "There area of a circle with redius ${r} is ${let pi = 3.14; pi * r * r}"</span></span>
<span class="line"><span>    println(area) // There area of a circle with redius 2.400000 is 18.086400</span></span>
<span class="line"><span>}</span></span></code></pre></section></section><section><h3 id="数组类型-array">数组类型 Array<a class="anchor" href="#数组类型-array"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>使用<code>Array</code>类型来构造单一元素类型, 有序序列的数据<br>
仓颉使用Array&#x3C;T>来表示Array类型。T 表示 Array 的元素类型, T 可以是任意类型</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>var a: Array&#x3C;Int64> = ... // Array whose element type is Int64</span></span>
<span class="line"><span>var b: Array&#x3C;String> = ... // Array whose element type is String</span></span></code></pre><p>元素类型不相同的 Array 是不相同的类型, 所有它们之间不可以互相赋值</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>b = a // Type mismatch error</span></span></code></pre><p>可以使用字面量来初始化一个 Array, 只需使用方括号将逗号分隔的值列表括起来即可<br>
编译器会根据上下文自动推断 Array 字面量的类型</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let b = [1, 2, 3, 4, 5]     // Array&#x3C;Int64></span></span>
<span class="line"><span>let c = ["a", "b", "c"]     // Array&#x3C;String></span></span></code></pre><p>也可以使用构造函数的方式构造一个指定元素类型的 Array</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let c = Array&#x3C;Int64>(3, item: 0) // [0, 0, 0]</span></span>
<span class="line"><span>let d = Array&#x3C;Int64>(3, {i => i + 1}) // [1, 2, 3]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>⬆ `3` 表示 Array 的长度, `item` 表示 Array 中的每个元素的初始值, 也可以使用闭包来初始化 Array 中的每个元素</span></span></code></pre><section><h4 id="访问-array-成员">访问 Array 成员<a class="anchor" href="#访问-array-成员"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>当需要对 Array 的所有元素进行访问时, 可以使用 for-in 表达式遍历 Array 的所有元素<br>
Array 是按元素插入顺序排列的, 因此对 Array 遍历的顺序总是恒定的</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    let arr = [0, 1, 2]</span></span>
<span class="line"><span>    for (i in arr) {</span></span>
<span class="line"><span>        println("The element is ${i}")</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><p>当需要知道某个 Array 包含的元素个数时, 可以使用 size 属性来获取。</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    let arr = [0, 1, 2]</span></span>
<span class="line"><span>    println("The size of the array is ${arr.size}")</span></span>
<span class="line"><span>}</span></span></code></pre><p><strong>注意: <del>属性不用( )</del>, 方法要用( )</strong></p><p>当需要访问 Array 中的某个元素时, 可以使用下标运算符<code>[]</code>来访问<br>
非空 Array 的第一个元素总是从位置 0 开始<br>
索引值不能使用<code>负数</code>或者大于等于 Array 的长度, 当编译器能检查出索引值非法时, 会在编译时报错, 否则会在运行时抛异常。</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    let arr = [0, 1, 2]</span></span>
<span class="line"><span>    let a = arr[0]  // 0</span></span>
<span class="line"><span>    let b = arr[1]  // 1</span></span>
<span class="line"><span>    println("The first element is ${a}")</span></span>
<span class="line"><span>    println("The second element is ${b}")</span></span>
<span class="line"><span>    let c = arr[-1] // error: index out of range</span></span>
<span class="line"><span>    println("The last element is ${c}")</span></span>
<span class="line"><span>}</span></span></code></pre><p>如果想获取某一段 Array 的元素, 可以在下标中传入 Range 类型的值, 就可以一次性取得 Range 对应范围的一段 Array</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let arr1 = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]</span></span>
<span class="line"><span>let arr2 = arr1[1..3]   // [20, 30]</span></span>
<span class="line"><span>let arr3 = arr1[4..=7]  // [50, 60, 70, 80]</span></span></code></pre></section><section><h4 id="修改-array">修改 Array<a class="anchor" href="#修改-array"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>Array 是一种长度不变的 Collection 类型, 因此 Array 没有提供添加和删除元素的成员函数<br>
但 Array 允许对其中的元素进行修改</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    let arr = [0, 1, 2]</span></span>
<span class="line"><span>    arr[0] = 10</span></span>
<span class="line"><span>    println(arr[0])  // 10</span></span>
<span class="line"><span>}</span></span></code></pre><p>Array 是引用类型, 因此 Array 在作为表达式使用时不会拷贝副本, 同一个 Array 实例的所有引用都会共享同样的数据。<br>
因此对 Array 元素的修改会影响到该实例的所有引用</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    let arr1 = [0, 1, 2]</span></span>
<span class="line"><span>    let arr2 = arr1</span></span>
<span class="line"><span>    arr2[0] = 10</span></span>
<span class="line"><span>    println(arr1) // [10, 1, 2]</span></span>
<span class="line"><span>    println(arr2) // [10, 1, 2]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // ⬇ 值传递类型</span></span>
<span class="line"><span>    var msg1 = 100</span></span>
<span class="line"><span>    var msg2 = msg1</span></span>
<span class="line"><span>    msg1 = 200</span></span>
<span class="line"><span>    println(msg1) // 200</span></span>
<span class="line"><span>    println(msg2) // 100</span></span>
<span class="line"><span>}</span></span></code></pre></section></section><section><h3 id="值类型数组-varray">值类型数组 VArray<a class="anchor" href="#值类型数组-varray"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>仓颉编程语言引入了值类型数组 <code>VArray&#x3C;T, $N></code>, 其中<code>T</code>表示该值类型数组的元素类型, <code>$N</code>是一个固定的语法, 通过<code>$</code>加上一个数值字面量表示这个值类型数组的长度</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>var a: VArray&#x3C;Int64, $3> = [1, 2, 3]</span></span></code></pre><p>同时, 它拥有两个构造函数</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>// VArray&#x3C;T, $N>(initElement: (Int64) -> T)</span></span>
<span class="line"><span>let b = VArray&#x3C;Int64, $5>({ i => i })   // [0, 1, 2, 3, 4]</span></span>
<span class="line"><span>println(b[3]) // 3</span></span>
<span class="line"><span>// VArray&#x3C;T, $N>(item!: T)</span></span>
<span class="line"><span>let c = VArray&#x3C;Int64, $5>(item: 0)      // [0, 0, 0, 0, 0]</span></span>
<span class="line"><span>println(c[3]) // 0</span></span></code></pre><p>除此之外, <code>VArray&#x3C;T, $N></code>类型提供了两个成员方法</p><ol>
<li>用于下标访问和修改的<code>[]</code>操作符方法:</li>
</ol><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>var a: VArray&#x3C;Int64, $3> = [1, 2, 3]</span></span>
<span class="line"><span>let i = a[1]</span></span>
<span class="line"><span>a[2] = 4</span></span></code></pre><ol start="2">
<li>用于获取<code>VArray</code>长度的<code>size</code>方法:</li>
</ol><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>var a: VArray&#x3C;Int64, $3> = [1, 2, 3]</span></span>
<span class="line"><span>let s = a.size</span></span>
<span class="line"><span>println(s) // 3</span></span></code></pre></section><section><h3 id="区间类型-range">区间类型 Range<a class="anchor" href="#区间类型-range"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>区间类型用于表示拥有固定步长的序列, 使用<code>Range&#x3C;T></code>表示。当<code>T</code>被实例化不同的类型时, 会得到不同的区间类型, 如最常用的<code>Range&#x3C;Int64></code>用于表示整数区间</p><p>每个区间类型的实例都会包含<code>start</code>(起始值)、<code>end</code>(终止值)和<code>step</code>(步长)三个属性, <code>start</code>和<code>end</code>的类型相同(即<code>T</code>被实例化的类型), <code>step</code>类型是<code>Int64</code></p><section><h4 id="区间类型字面量">区间类型字面量<a class="anchor" href="#区间类型字面量"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>区间字面量有两种形式: “左闭右开”区间和”左闭右闭”区间。其中, “左闭右开”区间的格式是<code>start..end : step</code>, 表示一个从<code>start</code>开始, 以<code>step</code>为步长, 到<code>end</code>(不包含<code>end</code>)为止的区间; “左闭右闭”区间的格式是<code>start..=end : step</code>, 表示一个从<code>start</code>开始, 以<code>step</code>为步长, 到<code>end</code>(包含<code>end</code>)为止的区间</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let n = 10</span></span>
<span class="line"><span>let r1 = 0..10:1    // 0, 1, 2, 3, 4, 5, 6, 7, 8, 9</span></span>
<span class="line"><span>let r2 = 0..=n:1    // 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10</span></span>
<span class="line"><span>let r3 = n..0:-2    // 10, 8, 6, 4, 2</span></span>
<span class="line"><span>let r4 = n..=0:-2   // 10, 8, 6, 4, 2, 0</span></span></code></pre><p>区间字面量中, 可以不写<code>step</code>, 此时<code>step</code>默认等于<code>1</code>。<br>
注意: <code>step</code>不能为0, 另外区间也有可能是空的(即不包含任何元素的空序列)</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let r5 = 0..10      // 0, 1, 2, 3, 4, 5, 6, 7, 8, 9</span></span>
<span class="line"><span>let r6 = 0..=10:0   // error: step cannot be 0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>let r7 = 10..0:1    // empty ranges</span></span>
<span class="line"><span>let r8 = 0..10:-1   // empty ranges</span></span>
<span class="line"><span>let r9 = 10..=0:1   // empty ranges</span></span>
<span class="line"><span>let r10 = 0..=10:-1 // empty ranges</span></span></code></pre><p><strong>提示</strong><br>
表达式<code>start..end:step</code>中, 当<code>step > 0</code>且<code>start >= end</code>, 或者<code>step &#x3C; 0</code>且<code>start &#x3C;= end</code>时, <code>start..end:step</code>是一个空区间; 表达式<code>start..=end:step</code>中, 当<code>step > 0</code>且<code>start > end</code>, 或者<code>step &#x3C; 0</code>且<code>start &#x3C; end</code>时, <code>start..=end:step</code>是一个空区间</p></section></section><section><h3 id="元组类型-tuple">元组类型 Tuple<a class="anchor" href="#元组类型-tuple"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>元组(Tuple)可以将多个不同的类型组合在一起, 成为一个新的类型。元组类型使用(T1, T2, …, Tn)表示, 其中T1~Tn可以是任意类型, 不同类型间使用逗号<code>,</code>链接。元组至少是二元以上, 例如, <code>(Int64, Float64)</code>表示一个二元组类型, <code>(Int64, Float64, String)</code>表示一个三元组类型</p><p>元组的长度是固定的, 即一旦定义了一个元组类型的实例, 它的长度不能再更改</p><p>元组支持通过<code>t[index]</code>的方式访问某个具体位置的元素, 其中<code>t</code>是一个元组, <code>index</code>是下标, 并且<code>index</code>只能是从<code>0</code>开始且小于元组元素个数的整数类型字面量, 否则, 编译报错。<br>
下面的例子中, 使用<code>pi[0]</code>和<code>pi[1]</code>可以分别访问二元组<code>pi</code>的第一个和第二个元素:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    vat pi = (3.14, "PI")</span></span>
<span class="line"><span>    println(pi[0])  // 3.14</span></span>
<span class="line"><span>    println(pi[1])  // PI</span></span>
<span class="line"><span>}</span></span></code></pre><p>元组类型是不可变类型, 即一旦定义一个元组类型的实例, 内容不再被更新</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>var tuple = (true, false)</span></span>
<span class="line"><span>tuple[0] = false         // error: cannot assign to immutable value</span></span></code></pre><section><h4 id="元组类型的字面量">元组类型的字面量<a class="anchor" href="#元组类型的字面量"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>元组类型的字面量使用<code>(E1, E2, ..., En)</code>表示, 其中E1~En是表达式, 多个表达式之间使用逗号分隔。</p><p>下面的例子中, 分别定义了一个<code>(Int64, Float64)</code>类型的变量x, 以及一个<code>(Int64, Float64, String)</code>类型的变量y, 并且使用元组类型的字面量初始化:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let x: (Int64, Float64) = (2, 3.14159)</span></span>
<span class="line"><span>let y: (Int64, Float64, String) = (2, 3.14159, "PI")</span></span></code></pre></section><section><h4 id="元组类型的类型参数">元组类型的类型参数<a class="anchor" href="#元组类型的类型参数"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let tuple: (name: String, age: Int64) = ("apple", 18)</span></span></code></pre><p>对于一个元组类型, 只允许统一写类型参数名, 或者统一不写类型参数名, 不能部分写类型参数名, 否则编译报错</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let tuple: (String, age: Int64) = ("apple", 18) // error: type parameter name mismatch</span></span></code></pre></section></section><section><h3 id="其他类型">其他类型<a class="anchor" href="#其他类型"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><section><h4 id="unit-类型">Unit 类型<a class="anchor" href="#unit-类型"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>对于那些只关心副作用而不关心值得表达式, 它们的类型是<code>Unit</code>。<br>
例如, <code>print</code>函数、赋值表达式、复合赋值表达式、自增和自减表达式、循环表达式, 它们的类型都是<code>Unit</code></p><p><code>Unit</code>类型只有一个值, 也就是它的字面量<code>()</code>。除了赋值、判等和判不等外, <code>Unit</code>类型不支持其它操作</p></section><section><h4 id="nothing-类型">Nothing 类型<a class="anchor" href="#nothing-类型"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p><code>Nothing</code>是一种特殊的类型, 它不包含任何值, 并且<code>Nothing</code>类型是所有类型的子类型</p><p><code>break</code>、<code>continue</code>、<code>return</code>、<code>throw</code>表达式的类型是<code>Nothing</code>, 程序执行到这些表达式时, 它们之后的代码将不会被执行。其中<code>break</code>、<code>continue</code>只能在循环体中使用, <code>return</code>只能在函数体中使用</p><p><strong>注意</strong><br>
目前编译器还不允许在使用类型的地方显式使用<code>Nothing</code>类型, 例如: <code>let a: Nothing = ()</code>会报错, 但是可以在函数返回值的地方使用<code>Nothing</code>类型, 例如: <code>return break</code></p></section></section></section>
<section><h2 id="运算符">运算符<a class="anchor" href="#运算符"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><section><h3 id="算术运算符">算术运算符<a class="anchor" href="#算术运算符"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>算术运算符包含”加、减、乘、除、取余、自增和自减”</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    var add: Int64</span></span>
<span class="line"><span>    var x = 10</span></span>
<span class="line"><span>    var y = 20</span></span>
<span class="line"><span>    add = x + y</span></span>
<span class="line"><span>    println("x + y = ${add}")</span></span>
<span class="line"><span>}</span></span></code></pre><section><h4 id="余数运算符">余数运算符<a class="anchor" href="#余数运算符"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>余数运算符是比较常用的, 因为在逻辑思维上寻找规律, 余数运算符是很好用的</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    var result: Int64</span></span>
<span class="line"><span>    var x = 101</span></span>
<span class="line"><span>    var y = 5</span></span>
<span class="line"><span>    result = x % y</span></span>
<span class="line"><span>    println("x % y = ${result}")</span></span>
<span class="line"><span>}</span></span></code></pre></section><section><h4 id="自增和自减运算符">自增和自减运算符<a class="anchor" href="#自增和自减运算符"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>自增和自减运算符, 是一元运算符, 只需一个运算子。它们的作用是将运算子首先转为数值, 然后加上1或减去1</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    var x = 10</span></span>
<span class="line"><span>    var y = 20</span></span>
<span class="line"><span>    x++</span></span>
<span class="line"><span>    y--</span></span>
<span class="line"><span>    println("x++ = ${x}") // 11</span></span>
<span class="line"><span>    println("y-- = ${y}") // 19</span></span>
<span class="line"><span>}</span></span></code></pre></section></section><section><h3 id="赋值运算符">赋值运算符<a class="anchor" href="#赋值运算符"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>赋值运算符(Assignment Operators)用于给变量赋值</p><p>最常见的赋值运算符, 是<code>=</code>运算符, 它将右侧的值赋给左侧的变量</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>main() {</span></span>
<span class="line"><span>    var x = 10</span></span>
<span class="line"><span>    var y = x</span></span>
<span class="line"><span>    println("y = ${y}")  // 10</span></span>
<span class="line"><span>}</span></span></code></pre><section><h4 id="复合赋值运算符">复合赋值运算符<a class="anchor" href="#复合赋值运算符"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>赋值运算符还可以与其他运算符结合, 形成变体。</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>x += 1      // x = x + 1</span></span>
<span class="line"><span>x -= 1      // x = x - 1</span></span>
<span class="line"><span>x *= 2      // x = x * 2</span></span>
<span class="line"><span>x /= 2      // x = x / 2</span></span>
<span class="line"><span>x %= 2      // x = x % 2</span></span></code></pre></section></section><section><h3 id="比较运算符">比较运算符<a class="anchor" href="#比较运算符"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>比较运算符用于比较两个值的大小, 返回布尔值<code>true</code>或<code>false</code>, 表示是否满足指定的条件</p>
































<table><thead><tr><th>比较运算符</th><th>描述</th></tr></thead><tbody><tr><td>&#x3C;</td><td>小于</td></tr><tr><td>></td><td>大于</td></tr><tr><td>&#x3C;=</td><td>小于等于</td></tr><tr><td>>=</td><td>大于等于</td></tr><tr><td>==</td><td>判等</td></tr><tr><td>!=</td><td>判不等</td></tr></tbody></table><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>from std import random.*</span></span>
<span class="line"><span>main() {</span></span>
<span class="line"><span>    let number: Int8 = Random().nextInt8()</span></span>
<span class="line"><span>    if (number % 2 == 0){</span></span>
<span class="line"><span>        println("even")</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>        println("odd")</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></section><section><h3 id="布尔运算符">布尔运算符<a class="anchor" href="#布尔运算符"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>常用的布尔运算符有<code>&#x26;&#x26;</code>(与)、<code>||</code>(或)、<code>!</code>(非)</p><section><h4 id="取反运算符-">取反运算符 (<code>!</code>)<a class="anchor" href="#取反运算符-"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>!true // false</span></span>
<span class="line"><span>!false // true</span></span></code></pre></section><section><h4 id="与运算符-">与运算符 (<code>&#x26;&#x26;</code>)<a class="anchor" href="#与运算符-"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>多个条件都要满足</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>if (10 &#x3C; 20 &#x26;&#x26; 10 > 5) {</span></span>
<span class="line"><span>    println("Yes")</span></span>
<span class="line"><span>} else {</span></span>
<span class="line"><span>    println("No")</span></span>
<span class="line"><span>}</span></span></code></pre></section><section><h4 id="或运算符-">或运算符 (<code>||</code>)<a class="anchor" href="#或运算符-"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>只要有一个条件满足即可</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>if (10 &#x3C; 20 || 10 > 5) {</span></span>
<span class="line"><span>    println("Yes")</span></span>
<span class="line"><span>} else {</span></span>
<span class="line"><span>    println("No")</span></span>
<span class="line"><span>}</span></span></code></pre></section></section><section><h3 id="位运算符">位运算符<a class="anchor" href="#位运算符"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>位运算符直接处理每一个比特位(bit), 是非常底层的运算, 好处是速度极快, 缺点是很不直观, 许多场合不能使用它们, 否则会使代码难以理解和查错</p><section><h4 id="快速计算位移方案--">快速计算位移方案 <code>&#x3C;&#x3C;</code> <code>>></code><a class="anchor" href="#快速计算位移方案--"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><ol>
<li>左移运算符就是*2的n次方 (n代表位移次数)</li>
<li>右移运算符就是/2的n次方 (n代表位移次数, 不同点, 出现小数时要取整)</li>
</ol></section><section><h4 id="位运算演算过程">位运算演算过程<a class="anchor" href="#位运算演算过程"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><section><h5 id="字长">字长<a class="anchor" href="#字长"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><p>计算机的每个字包含的位数称为字长, 也称在<code>同一时间中CPU一次操作处理二进制的位数</code>。大型计算机的字长为32-64位, 小型计算机为12-32位, 而微型计算机为4-16位。字长是衡量计算机性能的一个重要因素。现代计算机一般64位, 字长就是64位。</p></section><section><h5 id="左移运算符-">左移运算符 &#x3C;&#x3C;<a class="anchor" href="#左移运算符-"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>5 &#x3C;&#x3C; 2  // 20</span></span>
<span class="line"><span>↓</span></span>
<span class="line"><span>0000 0000 0000 0000 0000 0000 0000 0101 // 5</span></span>
<span class="line"><span>0000 0000 0000 0000 0000 0000 0001 0100 // 20 左移2位</span></span></code></pre></section><section><h5 id="右移运算符-">右移运算符 >><a class="anchor" href="#右移运算符-"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>1000 >> 8  // 3</span></span>
<span class="line"><span>↓</span></span>
<span class="line"><span>0000 0000 0000 0000 0000 0011 1110 1000 // 1000</span></span>
<span class="line"><span>0000 0000 0000 0000 0000 0000 0000 0011 // 3 右移8位</span></span></code></pre></section></section></section><section><h3 id="十进制转为二进制">十进制转为二进制<a class="anchor" href="#十进制转为二进制"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>采用”除2取余, 逆序排列”的方法<br>
例如: 10转为二进制</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>10 / 2 = 5  余数0</span></span>
<span class="line"><span>5 / 2 = 2   余数1</span></span>
<span class="line"><span>2 / 2 = 1   余数0</span></span>
<span class="line"><span>1 / 2 = 0   余数1</span></span>
<span class="line"><span>得到的余数逆序排列就是10的二进制数: 1010</span></span></code></pre></section></section>
<section><h2 id="函数">函数<a class="anchor" href="#函数"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><section><h3 id="定义函数">定义函数<a class="anchor" href="#定义函数"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>仓颉使用关键字<code>func</code>来表示函数定义的开始, <code>func</code>之后依次是函数名、参数列表、可选的函数返回值类型、函数体。其中, 函数名可以是任意的合法标识符, 参数列表定义在一对圆括号内(多个参数间使用逗号分隔), 参数列表和函数返回值类型(如果存在)之间使用冒号间隔, 函数体定义在一对花括号内。</p><p>func add(a: Int64, b: Int64): Int64 {
return a + b
}
↑ 上例中定义了一个名为<code>add</code>的函数, 其参数列表由两个<code>Int64</code>类型的参数<code>a</code>和<code>b</code>组成, 函数返回值类型为<code>Int64</code>, 函数体中使用<code>return</code>语句返回两个参数的和</p><section><h4 id="函数调用">函数调用<a class="anchor" href="#函数调用"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>函数调用的形式为<code>funcName(arg1, arg2, ..., argn)</code>。其中, <code>funcName</code>是要调用的函数名, <code>arg1</code> ~ <code>argn</code>是n个调用时的参数(称为实参), 要求每个实参的类型必须是对应参数类型的子类型。实参可以有0个或多个, 当实参个数为0时, 调用方式为<code>funcName()</code></p></section><section><h4 id="参数列表">参数列表<a class="anchor" href="#参数列表"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>一个函数可以拥有0个或多个参数, 这些参数均定义在函数的参数列表中。根据函数调用时是否需要给定参数名, 可以将参数列表中的参数分为两类: <code>非命名参数</code>和<code>命名参数</code></p><p>非命名参数的定义方式是<code>p:T</code>, 其中<code>p</code>是参数名, <code>T</code>是参数<code>p</code>的类型, 参数名和其类型间使用冒号链接。例如, 上例中<code>add</code>函数的两个参数<code>a</code>和<code>b</code>均为非命名参数</p><p>命名参数的定义方式是<code>p!:T</code>, 与非命名参数的不同是在参数名<code>p</code>之后多了一个<code>!</code>。可以将上例中<code>add</code>函数的两个非命名参数修改为命名参数</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func add(a!: Int64, b!: Int64): Int64 {</span></span>
<span class="line"><span>    return a + b</span></span>
<span class="line"><span>}</span></span></code></pre><p>命名参数还可以设置默认值, 通过<code>p!:T = e</code>方式将参数<code>p</code>的默认值设置为表达式<code>e</code>的值。<br>
例如, 可以将上述<code>add</code>函数的两个参数的默认值都设置为<code>1</code>:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func add(a!: Int64 = 1, b!: Int64 = 1): Int64 {</span></span>
<span class="line"><span>    return a + b</span></span>
<span class="line"><span>}</span></span></code></pre><p>非命名参数和命名参数的主要差异在于调用时的不同</p><p>根据函数定义时参数是非命名参数还是命名参数的不同, 函数调用时传实参的方式也有所不同: 对于非命名参数, 它对应的实参是一个表达式, 对于命名参数, 它对应的实参需要使用<code>p:e</code>的形式, 其中<code>p</code>是命名参数的名字, <code>e</code>是表达式(即传递给参数<code>p</code>的值)</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func add(a!: Int64 = 1, b!: Int64 = 1): Int64 {</span></span>
<span class="line"><span>    return a + b</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>add(a:10, b:20)</span></span></code></pre><p>函数参数均为不可变变量, 在函数定义内不能对其赋值</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func add(a: Int64, b: Int64): Int64 {</span></span>
<span class="line"><span>    a = a + b // error: cannot assign to immutable value</span></span>
<span class="line"><span>    return a</span></span>
<span class="line"><span>}</span></span></code></pre></section></section><section><h3 id="返回值">返回值<a class="anchor" href="#返回值"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><section><h4 id="函数返回值类型">函数返回值类型<a class="anchor" href="#函数返回值类型"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>函数返回值类型是函数被调用后得到的值的类型, 函数定义时, 返回值类型是可选的: 可以显式地定义返回值类型(返回值类型定义在参数列表和函数体之间), 也可以不定义返回值类型, 交由编译器推导确定</p><p>当显式地定义了函数返回值类型时, 就要求函数体的类型、函数体中所有<code>return e</code>表达式中<code>e</code>的类型是返回值类型的子类型。<br>
例如, 对于上述<code>add</code>函数, 显示地定义了它的返回值类型为<code>Int64</code>, 如果将函数体中地<code>return a + b</code>修改为<code>return (a, b)</code>, 则会因为类型不匹配而报错</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>// Error: the type of the expression after return does not match the return type of the function</span></span>
<span class="line"><span>func add(a: Int64, b: Int64): Int64 {</span></span>
<span class="line"><span>    return (a, b)   // error: type mismatch</span></span>
<span class="line"><span>}</span></span></code></pre><p>在函数定义时如果未显式定义返回值类型, 编译器将根据函数体的类型以及函数体中所有地<code>return</code>表达式来共同推导出函数的返回值类型。<br>
例如, 下列<code>add</code>函数的返回值类型虽然被省略, 但编译器可以根据<code>return a + b</code>推导出<code>add</code>函数的返回值类型是<code>Int64</code>:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func add(a: Int64, b: Int64) {</span></span>
<span class="line"><span>    return a + b    // return type is Int64</span></span>
<span class="line"><span>}</span></span></code></pre><p><strong>提示</strong><br>
函数的返回值类型并不是任何情况下都可以被推导出来的, 如果返回值类型推导失败, 编译报错</p></section><section><h4 id="函数体">函数体<a class="anchor" href="#函数体"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>函数体中定义了函数被调用时执行的操作, 通常包含一系列的变量定义和表达式, 也可以包含新的函数定义(即嵌套函数)。<br>
如下<code>add</code>函数的函数体中首先定义了<code>Int64</code>类型的变量<code>r</code>(初始值为0), 接着将<code>a + b</code>的值赋于<code>r</code>, 最后返回<code>r</code>的值</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func add(a: Int64, b: Int64): Int64 {</span></span>
<span class="line"><span>    var r: Int64 = 0</span></span>
<span class="line"><span>    r = a + b</span></span>
<span class="line"><span>    return r</span></span>
<span class="line"><span>}</span></span></code></pre><p>在函数体的任意位置都可以使用<code>return</code>表达式来终止函数的执行并返回。<code>return</code>表达式有两种形式:<code>return</code>和<code>return expr</code>( expr 是一种表达式)</p><p>对于<code>return expr</code>, 要求<code>expr</code>的类型与函数定义的返回值类型保持一致。<br>
例如, 下例中会因为<code>return 100</code>中<code>100</code>类型(<code>Int64</code>)和函数<code>foo</code>的返回值类型<code>String</code>不同而报错</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>// Error: the type of the expression after return does not match the return type of the function</span></span>
<span class="line"><span>func foo(): String {</span></span>
<span class="line"><span>    return 100 // error: type mismatch</span></span>
<span class="line"><span>}</span></span></code></pre><p>对于<code>return</code>, 其等价于<code>return ()</code>, 所以函数的返回值类型为<code>Uint</code></p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func add(a: Int64, b: Int64) {</span></span>
<span class="line"><span>    var r = 0</span></span>
<span class="line"><span>    r = a + b</span></span>
<span class="line"><span>    return r</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>func foo(): Unit{</span></span>
<span class="line"><span>    add(1, 2)</span></span>
<span class="line"><span>    return</span></span>
<span class="line"><span>}</span></span></code></pre><p><strong>提示</strong><br>
<code>return</code>表达式作为一个整体, 其类型并不由后面跟随的表达式决定, 而是 Nothing 类型</p><p>在函数体内定义的变量属于局部变量的一种, 它的作用域从其定义之后开始到函数体结束</p><p>对于一个局部变量, 允许在其外层作用域中定义同名变量, 并且在此局部变量的作用域内, 局部变量会”遮盖”外层作用域的同名变量</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let r = 0</span></span>
<span class="line"><span>func add(a: Int64, b: Int64) {</span></span>
<span class="line"><span>    var r = 0</span></span>
<span class="line"><span>    r = a + b</span></span>
<span class="line"><span>    return r</span></span>
<span class="line"><span>}</span></span></code></pre><p>👆上例, <code>add</code>函数之前定义了<code>Int64</code>类型的全局变量<code>r</code>, 同时<code>add</code>函数体内定义了同名的局部变量<code>r</code>, 那么在函数体内, 所有使用变量<code>r</code>的地方(如<code>r = a + b</code>), 用到的将是局部变量<code>r</code>, 即(在函数体内)局部变量<code>r</code>”遮盖”了全局变量<code>r</code></p><p>函数体也是有类型的, 函数体的类型是函数体内最后一”项”的类型: 若最后一项为表达式, 则函数体的类型是此表达式的类型, 若最后一项为变量定义或函数声明, 或函数体为空, 则函数体的类型为 <code>Unit</code></p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func add(a: Int64, b: Int64): Int64 {</span></span>
<span class="line"><span>    a + b</span></span>
<span class="line"><span>}</span></span></code></pre><p>👆上例, 因为函数体的最后一”项”是<code>Int64</code>类型的表达式(即<code>a + b</code>), 所以函数体的类型也是<code>Int64</code>, 与函数定义的返回值类型相匹配。<br>
又如, 下例函数体的最后一项是<code>print</code>函数调用, 所以函数体的类型是<code>Unit</code>, 同样与函数定义的返回值类型相匹配</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func foo(): Unit{</span></span>
<span class="line"><span>    let s = "Hello"</span></span>
<span class="line"><span>    println(s)</span></span>
<span class="line"><span>}</span></span></code></pre></section></section><section><h3 id="一等公民">一等公民<a class="anchor" href="#一等公民"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>仓颉编程语言中, 函数是一等公民(first-class citizens), 可以作为函数的参数或返回值, 也可以赋值给变量。因此函数本身也有类型, 称为函数类型</p><section><h4 id="函数类型">函数类型<a class="anchor" href="#函数类型"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p><code>函数类型</code>由函数的参数类型和返回类型组成, 参数类型和返回类型之间使用<code>-></code>连接。参数类型使用圆括号<code>()</code>括起来, 可以有0个或多个参数, 如果参数超过两个, 参数类型之间使用逗号<code>,</code>分隔</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func hello(): Unit{</span></span>
<span class="line"><span>    println("Hello!")</span></span>
<span class="line"><span>}</span></span></code></pre><p>👆示例定义了一个函数, 函数名为hello, 其类型是<code>()->Unit</code>,表示该函数没有参数, 返回类型为<code>Unit</code></p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func add(a: Int64, b: Int64): Int64 {</span></span>
<span class="line"><span>    a + b</span></span>
<span class="line"><span>}</span></span></code></pre><p>👆函数名为<code>add</code>, 其类型是<code>(Int64, Int64) -> Int64</code>, 表示该函数有两个参数, 两个参数类型均为<code>Int64</code>, 返回类型为<code>Int64</code></p></section><section><h4 id="函数类型作为参数类型">函数类型作为参数类型<a class="anchor" href="#函数类型作为参数类型"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>示例: 函数名为<code>printAdd</code>, 其类型是<code>((Int64, Int64) -> Int64, Int64, Int64) -> Unit</code>, 表示该函数有三个参数, 参数类型分别为函数类型<code>(Int64, Int64) -> Int64</code>和两个<code>Int64</code>, 返回类型为<code>Unit</code></p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func printAdd(add: (Int64, Int64) -> Int64, a: Int64, b: Int64 ): Unit {</span></span>
<span class="line"><span>    println(add(a, b))</span></span>
<span class="line"><span>}</span></span></code></pre><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func demo(x: Int64, y: Int64): Int64{</span></span>
<span class="line"><span>    return x * y</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>main() {</span></span>
<span class="line"><span>    printAdd(demo, 10, 10)</span></span>
<span class="line"><span>}</span></span></code></pre></section><section><h4 id="函数类型作为返回类型">函数类型作为返回类型<a class="anchor" href="#函数类型作为返回类型"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>函数类型可以作为另一个函数的返回类型
👇示例, 函数名为<code>returnAdd</code>, 其类型是<code>() -> (Int64, Int64) -> Int64</code>, 表示该函数无参数, 返回类型为函数类型<code>(Int64, Int64) -> Int64</code>。注意,<code>-></code>是右结合的</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func add(a: Int64, b: Int64): Int64 {</span></span>
<span class="line"><span>    return a + b</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>func returnAdd(): (Int64, Int64) -> Int64 {</span></span>
<span class="line"><span>    add</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>main() {</span></span>
<span class="line"><span>    var a = returnAdd()</span></span>
<span class="line"><span>    println(a(1, 2)) // 3</span></span>
<span class="line"><span>}</span></span></code></pre></section><section><h4 id="函数类型作为变量类型">函数类型作为变量类型<a class="anchor" href="#函数类型作为变量类型"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>函数名本身也是表达式, 它的类型为对应的函数类型</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func add(p1: Int64, p2: Int64): Int64 {</span></span>
<span class="line"><span>    p1 + p2</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>let f: (Int64, Int64) -> Int64 = add</span></span></code></pre></section></section><section><h3 id="嵌套函数">嵌套函数<a class="anchor" href="#嵌套函数"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>定义在源文件顶层的函数被称为全局函数。定义在函数体内的函数被称为嵌套函数</p><p>👇示例, 函数<code>foo</code>内定义了一个嵌套函数<code>nestAdd</code>, 可以在<code>foo</code>内调用该嵌套函数<code>nestAdd</code>, 也可以将嵌套函数<code>nestAdd</code>作为返回值返回, 在<code>foo</code>外对其进行调用:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func foo() {</span></span>
<span class="line"><span>    func nestAdd(a: Int64, b: Int64): Unit{</span></span>
<span class="line"><span>        a + b + 3</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    println(nestAdd(1, 2)) // 6</span></span>
<span class="line"><span>    return nestAdd</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>main() {</span></span>
<span class="line"><span>    let f = foo()</span></span>
<span class="line"><span>    let x = f(1, 2)</span></span>
<span class="line"><span>    println("result: ${x}") // 6</span></span>
<span class="line"><span>}</span></span></code></pre></section><section><h3 id="lambda-表达式">Lambda 表达式<a class="anchor" href="#lambda-表达式"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><section><h4 id="lambda-表达式定义">Lambda 表达式定义<a class="anchor" href="#lambda-表达式定义"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>Lambda 表达式的语法形式: <code>{p1: T1, ..., pn:Tn => expressions | declarations}</code></p><p>其中, <code>=></code>之前为参数列表, 多个参数之间使用<code>,</code>分隔, 每个参数名和参数类型之间使用<code>:</code>分隔。<code>=></code>之前也可以没有参数。<code>=></code>之后为 Lambda 表达式体, 是一组表达式或声明序列</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let f1 = { a: Int64, b: Int64 => a + b }</span></span>
<span class="line"><span>var display = { => println("Hello") }   // Parameterless Lambda</span></span>
<span class="line"><span></span></span>
<span class="line"><span>main() {</span></span>
<span class="line"><span>    println(f1(10, 20))  // 30</span></span>
<span class="line"><span>    display()            // Hello</span></span>
<span class="line"><span>}</span></span></code></pre><p>Lambda 表达式中参数的类型标注可缺省。以下情形中, 若参数类型省略, 编译器会尝试进行类型推断</p><ul>
<li>Lambda 表达式赋值给变量时, 其参数类型根据变量类型推断</li>
<li>Lambda 表达式作为函数调用表达式的实参使用时, 其参数类型根据函数的形参类型推断</li>
</ul><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>var sum: (Int64, Int64) -> Int64 = { a, b => a + b }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>func f(fn: (Int64) -> Int64): Int64{</span></span>
<span class="line"><span>    fn(1)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>main() {</span></span>
<span class="line"><span>    println(sum(10, 20))            // 30</span></span>
<span class="line"><span>    println(f({ num => num + 10 })) // 11</span></span>
<span class="line"><span>}</span></span></code></pre></section><section><h4 id="lambda-表达式声明">Lambda 表达式声明<a class="anchor" href="#lambda-表达式声明"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>Lambda 表达式支持立即调用</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>let r1 = { a: Int64, b: Int64 => a + b }(1, 2)</span></span>
<span class="line"><span>let r2 = { => 123}()</span></span></code></pre><p>Lambda 表达式也可以赋值给一个变量, 使用变量名进行调用</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func f() {</span></span>
<span class="line"><span>    var g = { x: Int64 => println("x = ${x}") }</span></span>
<span class="line"><span>    g(2)</span></span>
<span class="line"><span>}</span></span></code></pre></section></section><section><h3 id="闭包">闭包<a class="anchor" href="#闭包"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>一个函数或 Lambda 从定义它的静态作用域中捕获了变量, 函数或 Lambda 和捕获的变量一起被称为一个闭包, 这样即使脱离了闭包定义所在的作用域, 闭包也能正常运行</p><p>示例1: 闭包<code>add</code>, 捕获了<code>let</code>声明的局部变量<code>num</code>, 之后通过返回值返回到<code>num</code>定义的作用域之外, 调用<code>add</code>时仍可正常访问<code>num</code></p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func returnAddNum(): (Int64) -> Int64 {</span></span>
<span class="line"><span>    let num: Int64 = 10</span></span>
<span class="line"><span>    func add(a: Int64) {</span></span>
<span class="line"><span>        return a + num</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    add</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>main() {</span></span>
<span class="line"><span>    let f = returnAddNum()</span></span>
<span class="line"><span>    println(f(10)) // 20</span></span>
<span class="line"><span>}</span></span></code></pre><p>示例2: 捕获的变量必须在闭包定义时可见</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func f() {</span></span>
<span class="line"><span>    let x = 99</span></span>
<span class="line"><span>    func f1() {</span></span>
<span class="line"><span>        println(x)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    let f2 = { => </span></span>
<span class="line"><span>        println(y) // error: cannot capture 'y' which is not in scope</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    let y = 100</span></span>
<span class="line"><span>    f1()           // Print 99.</span></span>
<span class="line"><span>    f2()</span></span>
<span class="line"><span>}</span></span></code></pre><p>示例3: 捕获的变量必须在闭包定义前完成初始化</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func f() {</span></span>
<span class="line"><span>    let x: Int64</span></span>
<span class="line"><span>    func f1() {</span></span>
<span class="line"><span>        println(x) // Error: x is not initialized yet.</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    x = 99</span></span>
<span class="line"><span>    f1()</span></span>
<span class="line"><span>}</span></span></code></pre><p>需要注意的是, 捕获具有传递性, 如果一个函数<code>f</code>调用了捕获<code>var</code>变量的函数<code>g</code>, 且存在<code>g</code>捕获的<code>var</code>变量不在函数<code>f</code>内定义, 那么函数<code>f</code>同样捕获了<code>var</code>变量, 此时, <code>f</code>也不能作为一等公民使用</p><p>👇示例, <code>g</code>捕获了<code>var</code>声明的变量<code>x</code>, <code>f</code>调用了<code>g</code>, 且<code>g</code>捕获的<code>x</code>不在<code>f</code>内定义, <code>f</code>同样不能作为一等公民使用</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>func h(): Unit{</span></span>
<span class="line"><span>    var x = 1</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    func g() { x }  // captured a mutable variable</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    func f() {</span></span>
<span class="line"><span>        g()         // invoked g</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    return f        // error</span></span>
<span class="line"><span>}</span></span></code></pre></section></section>
<section><h2 id="更多资源搜索">更多资源搜索<a class="anchor" href="#更多资源搜索"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><ul>
<li><a href="https://cangjie-lang.cn">仓颉编程语言官网</a></li>
<li><a href="https://developer.huawei.com/consumer/cn/">华为开发者联盟</a></li>
<li><a href="https://gitcode.com/Cangjie">GitCode 仓颉</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=IDE-Innovation-Lab.cangjie">Cangjie Vscode插件</a></li>
</ul></section>  </div> <script type="module">const s=new MutationObserver(l);s.observe(document.body,{childList:!0,subtree:!0});function l(){s.disconnect();let i=Array.from(document.querySelectorAll("pre"));for(let e of i){if(e.parentElement?.nodeName==="DIV"&&e.parentElement?.classList.contains("code-block"))continue;let o=document.createElement("div");o.className="relative code-block";let t=document.createElement("button");t.className="copy-btn btn-regular-dark absolute active:scale-90 h-8 w-8 top-2 right-2 opacity-75 text-sm p-1.5 rounded-lg transition-all ease-in-out",e.setAttribute("tabindex","0"),e.parentNode&&e.parentNode.insertBefore(o,e);let r='<svg class="copy-btn-icon copy-icon" xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"/></svg>',a='<svg class="copy-btn-icon success-icon" xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"/></svg>';t.innerHTML=`<div>${r} ${a}</div>
      `,o.appendChild(e),o.appendChild(t);let c;t.addEventListener("click",async()=>{c&&clearTimeout(c);let n=e?.querySelector("code")?.innerText;n!==void 0&&(await navigator.clipboard.writeText(n),t.classList.add("success"),c=setTimeout(()=>{t.classList.remove("success")},1e3))})}s.observe(document.body,{childList:!0,subtree:!0})}</script> <div class="relative transition overflow-hidden bg-[var(--license-block-bg)] py-5 px-6 mb-6 rounded-xl license-container onload-animation"> <div class="transition font-bold text-black/75 dark:text-white/75"> 震惊！这门国产编程语言竟能一招搞定全场景！开发者：学不会就OUT了！！ </div> <a href="https://newpower.pro/posts/document/仓颉语法小手册/" class="link text-[var(--primary)]"> https://newpower.pro/posts/document/仓颉语法小手册/ </a> <div class="flex gap-6 mt-2"> <div> <div class="transition text-black/30 dark:text-white/30 text-sm">作者</div> <div class="transition text-black/75 dark:text-white/75 line-clamp-2">☯️xPower</div> </div> <div> <div class="transition text-black/30 dark:text-white/30 text-sm">发布于</div> <div class="transition text-black/75 dark:text-white/75 line-clamp-2">2025-05-12</div> </div> <div> <div class="transition text-black/30 dark:text-white/30 text-sm">许可协议</div> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" class="link text-[var(--primary)] line-clamp-2">CC BY-NC-SA 4.0</a> </div> </div> <svg width="0.97em" height="1em" class="transition text-[15rem] absolute pointer-events-none right-6 top-1/2 -translate-y-1/2 text-black/5 dark:text-white/5" data-icon="fa6-brands:creative-commons">   <symbol id="ai:fa6-brands:creative-commons" viewBox="0 0 496 512"><path fill="currentColor" d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86m143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86M247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248m.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82"/></symbol><use href="#ai:fa6-brands:creative-commons"></use>  </svg> </div> </div> </div> <div class="flex flex-col md:flex-row justify-between mb-4 gap-4 overflow-hidden w-full"> <a href="#" class="w-full font-bold overflow-hidden active:scale-95 pointer-events-none">  </a> <a href="/posts/blockchain/arbitrum/arbitrumstylustutorial/" class="w-full font-bold overflow-hidden active:scale-95"> <div class="btn-card rounded-2xl w-full h-[3.75rem] max-w-full px-4 flex items-center !justify-end gap-4"> <div class="overflow-hidden transition overflow-ellipsis whitespace-nowrap max-w-[calc(100%_-_3rem)] text-black/75 dark:text-white/75"> Arbitrum Stylus 全方位解析：核心竞争力与实践教程 </div> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-[2rem] text-[var(--primary)]" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </div> </a> </div>  <div class="footer col-span-2 onload-animation hidden lg:block"> <!--<div class="border-t border-[var(&#45;&#45;primary)] mx-16 border-dashed py-8 max-w-[var(&#45;&#45;page-width)] flex flex-col items-center justify-center px-6">--><div class="transition border-t border-black/10 dark:border-white/15 my-10 border-dashed mx-32"></div> <!--<div class="transition bg-[oklch(92%_0.01_var(&#45;&#45;hue))] dark:bg-black rounded-2xl py-8 mt-4 mb-8 flex flex-col items-center justify-center px-6">--> <div class="transition border-dashed border-[oklch(85%_0.01_var(--hue))] dark:border-white/15 rounded-2xl mb-12 flex flex-col items-center justify-center px-6"> <div class="transition text-50 text-sm text-center">
&copy; <span id="copyright-year">2025</span> ☯️xPower. All Rights Reserved. /
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="/rss.xml">RSS</a> /
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="/sitemap-index.xml">Sitemap</a><br>
Powered by
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://astro.build">Astro</a> &
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://github.com/saicaca/fuwari">Fuwari</a> </div> </div> </div> </div> </main> <div class="footer col-span-2 onload-animation block lg:hidden"> <!--<div class="border-t border-[var(&#45;&#45;primary)] mx-16 border-dashed py-8 max-w-[var(&#45;&#45;page-width)] flex flex-col items-center justify-center px-6">--><div class="transition border-t border-black/10 dark:border-white/15 my-10 border-dashed mx-32"></div> <!--<div class="transition bg-[oklch(92%_0.01_var(&#45;&#45;hue))] dark:bg-black rounded-2xl py-8 mt-4 mb-8 flex flex-col items-center justify-center px-6">--> <div class="transition border-dashed border-[oklch(85%_0.01_var(--hue))] dark:border-white/15 rounded-2xl mb-12 flex flex-col items-center justify-center px-6"> <div class="transition text-50 text-sm text-center">
&copy; <span id="copyright-year">2025</span> ☯️xPower. All Rights Reserved. /
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="/rss.xml">RSS</a> /
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="/sitemap-index.xml">Sitemap</a><br>
Powered by
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://astro.build">Astro</a> &
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://github.com/saicaca/fuwari">Fuwari</a> </div> </div> </div> </div> <!-- There can't be a filter on parent element, or it will break `fixed` --><div class="back-to-top-wrapper hidden lg:block" data-astro-cid-eymb5ayk> <div id="back-to-top-btn" class="back-to-top-btn hide flex items-center rounded-2xl overflow-hidden transition" onclick="backToTop()" data-astro-cid-eymb5ayk> <button aria-label="Back to Top" class="btn-card h-[3.75rem] w-[3.75rem]" data-astro-cid-eymb5ayk> <svg width="1em" height="1em" class="mx-auto" data-astro-cid-eymb5ayk="true" data-icon="material-symbols:keyboard-arrow-up-rounded">   <symbol id="ai:material-symbols:keyboard-arrow-up-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="m12 10.8l-3.9 3.9q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7l4.6-4.6q.3-.3.7-.3t.7.3l4.6 4.6q.275.275.275.7t-.275.7t-.7.275t-.7-.275z"/></symbol><use href="#ai:material-symbols:keyboard-arrow-up-rounded"></use>  </svg> </button> </div> </div>  <script>
function backToTop() {
    window.scroll({ top: 0, behavior: 'smooth' });
}
</script> </div> </div>  <div class="absolute w-full z-0 hidden 2xl:block"> <div class="relative max-w-[var(--page-width)] mx-auto"> <!-- TOC component --> <div id="toc-wrapper" class="hidden lg:block transition absolute top-0 -right-[var(--toc-width)] w-[var(--toc-width)] flex items-center toc-hide"> <div id="toc-inner-wrapper" class="fixed top-14 w-[var(--toc-width)] h-[calc(100vh_-_20rem)] overflow-y-scroll overflow-x-hidden hide-scrollbar"> <div id="toc" class="w-full h-full transition-swup-fade "> <div class="h-8 w-full"></div> <table-of-contents class="group"><a href="#初识-仓颉-编程语言" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">1</div><div class="transition text-sm text-50">初识 仓颉 编程语言</div></a><a href="#仓颉编程语言特性" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">2</div><div class="transition text-sm text-50">仓颉编程语言特性</div></a><a href="#环境配置及运行第一个仓颉程序" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">3</div><div class="transition text-sm text-50">环境配置及运行第一个仓颉程序</div></a><a href="#创建第一个仓颉程序" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">创建第一个仓颉程序</div></a><a href="#标识符" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">4</div><div class="transition text-sm text-50">标识符</div></a><a href="#普通标识符" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">普通标识符</div></a><a href="#原始标识符" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">原始标识符</div></a><a href="#变量" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">5</div><div class="transition text-sm text-50">变量</div></a><a href="#if-表达式" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">6</div><div class="transition text-sm text-50">if 表达式</div></a><a href="#while-表达式" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">7</div><div class="transition text-sm text-50">while 表达式</div></a><a href="#for-in-表达式" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">8</div><div class="transition text-sm text-50">for-in 表达式</div></a><a href="#遍历区间" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">遍历区间</div></a><a href="#迭代变量不可修改" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">迭代变量不可修改</div></a><a href="#where-条件" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">where 条件</div></a><a href="#break-与-continue-表达式" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">9</div><div class="transition text-sm text-50">break 与 continue 表达式</div></a><a href="#基本数据类型" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">10</div><div class="transition text-sm text-50">基本数据类型</div></a><a href="#整数类型-intuint" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">整数类型 Int&amp;UInt</div></a><a href="#浮点类型-float" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">浮点类型 Float</div></a><a href="#布尔类型-bool" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">布尔类型 Bool</div></a><a href="#字符类型-rune" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">字符类型 Rune</div></a><a href="#字符串类型-string" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">字符串类型 String</div></a><a href="#数组类型-array" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">数组类型 Array</div></a><a href="#值类型数组-varray" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">值类型数组 VArray</div></a><a href="#区间类型-range" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">区间类型 Range</div></a><a href="#元组类型-tuple" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">元组类型 Tuple</div></a><a href="#其他类型" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">其他类型</div></a><a href="#运算符" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">11</div><div class="transition text-sm text-50">运算符</div></a><a href="#算术运算符" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">算术运算符</div></a><a href="#赋值运算符" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">赋值运算符</div></a><a href="#比较运算符" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">比较运算符</div></a><a href="#布尔运算符" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">布尔运算符</div></a><a href="#位运算符" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">位运算符</div></a><a href="#十进制转为二进制" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">十进制转为二进制</div></a><a href="#函数" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">12</div><div class="transition text-sm text-50">函数</div></a><a href="#定义函数" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">定义函数</div></a><a href="#返回值" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">返回值</div></a><a href="#一等公民" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">一等公民</div></a><a href="#嵌套函数" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">嵌套函数</div></a><a href="#lambda-表达式" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Lambda 表达式</div></a><a href="#闭包" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">闭包</div></a><a href="#更多资源搜索" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">13</div><div class="transition text-sm text-50">更多资源搜索</div></a><div id="active-indicator" class="-z-10 absolute bg-[var(--toc-btn-hover)] left-0 right-0 rounded-xl transition-all group-hover:bg-transparent border-2 border-[var(--toc-btn-hover)] group-hover:border-[var(--toc-btn-active)] border-dashed"></div></table-of-contents><script type="module">class l extends HTMLElement{tocEl=null;visibleClass="visible";observer;anchorNavTarget=null;headingIdxMap=new Map;headings=[];sections=[];tocEntries=[];active=[];activeIndicator=null;constructor(){super(),this.observer=new IntersectionObserver(this.markVisibleSection,{threshold:0})}markVisibleSection=t=>{t.forEach(e=>{const i=e.target.children[0]?.getAttribute("id"),s=i?this.headingIdxMap.get(i):void 0;s!=null&&(this.active[s]=e.isIntersecting),e.isIntersecting&&this.anchorNavTarget==e.target.firstChild&&(this.anchorNavTarget=null)}),this.active.includes(!0)||this.fallback(),this.update()};toggleActiveHeading=()=>{let t=this.active.length-1,e=this.active.length-1,i=0;for(;t>=0&&!this.active[t];)this.tocEntries[t].classList.remove(this.visibleClass),t--;for(;t>=0&&this.active[t];)this.tocEntries[t].classList.add(this.visibleClass),e=Math.min(e,t),i=Math.max(i,t),t--;for(;t>=0;)this.tocEntries[t].classList.remove(this.visibleClass),t--;let s=this.tocEl?.getBoundingClientRect().top||0,n=this.tocEl?.scrollTop||0,o=this.tocEntries[e].getBoundingClientRect().top-s+n,c=this.tocEntries[i].getBoundingClientRect().bottom-s+n;this.activeIndicator?.setAttribute("style",`top: ${o}px; height: ${c-o}px`)};scrollToActiveHeading=()=>{if(this.anchorNavTarget||!this.tocEl)return;const t=document.querySelectorAll(`#toc .${this.visibleClass}`);if(!t.length)return;const e=t[0],i=t[t.length-1],s=this.tocEl.clientHeight;let n;i.getBoundingClientRect().bottom-e.getBoundingClientRect().top<.9*s?n=e.offsetTop-32:n=i.offsetTop-s*.8,this.tocEl.scrollTo({top:n,left:0,behavior:"smooth"})};update=()=>{requestAnimationFrame(()=>{this.toggleActiveHeading(),this.scrollToActiveHeading()})};fallback=()=>{if(this.sections.length)for(let t=0;t<this.sections.length;t++){let e=this.sections[t].getBoundingClientRect().top,i=this.sections[t].getBoundingClientRect().bottom;if(this.isInRange(e,0,window.innerHeight)||this.isInRange(i,0,window.innerHeight)||e<0&&i>window.innerHeight)this.markActiveHeading(t);else if(e>window.innerHeight)break}};markActiveHeading=t=>{this.active[t]=!0};handleAnchorClick=t=>{const e=t.composedPath().find(i=>i instanceof HTMLAnchorElement);if(e){const i=decodeURIComponent(e.hash?.substring(1)),s=this.headingIdxMap.get(i);s!==void 0?this.anchorNavTarget=this.headings[s]:this.anchorNavTarget=null}};isInRange(t,e,i){return e<t&&t<i}connectedCallback(){const t=document.querySelector(".prose");t?t.addEventListener("animationend",()=>{this.init()},{once:!0}):console.debug("Animation element not found")}init(){if(this.tocEl=document.getElementById("toc-inner-wrapper"),!!this.tocEl&&(this.tocEl.addEventListener("click",this.handleAnchorClick,{capture:!0}),this.activeIndicator=document.getElementById("active-indicator"),this.tocEntries=Array.from(document.querySelectorAll("#toc a[href^='#']")),this.tocEntries.length!==0)){this.sections=new Array(this.tocEntries.length),this.headings=new Array(this.tocEntries.length);for(let t=0;t<this.tocEntries.length;t++){const e=decodeURIComponent(this.tocEntries[t].hash?.substring(1)),i=document.getElementById(e),s=i?.parentElement;i instanceof HTMLElement&&s instanceof HTMLElement&&(this.headings[t]=i,this.sections[t]=s,this.headingIdxMap.set(e,t))}this.active=new Array(this.tocEntries.length).fill(!1),this.sections.forEach(t=>this.observer.observe(t)),this.fallback(),this.update()}}disconnectedCallback(){this.sections.forEach(t=>this.observer.unobserve(t)),this.observer.disconnect(),this.tocEl?.removeEventListener("click",this.handleAnchorClick)}}customElements.get("table-of-contents")||customElements.define("table-of-contents",l);</script> <div class="h-8 w-full"></div> </div> </div> </div> <!-- #toc needs to exist for Swup to work normally -->  </div> </div>  <!-- increase the page height during page transition to prevent the scrolling animation from jumping --> <div id="page-height-extend" class="hidden h-[300vh]" data-astro-cid-sckkx6r4 style="--bannerOffset: 15vh;--banner-height-home: 65vh;--banner-height: 35vh;--configHue: 250;--page-width: 75rem;"></div>  <script type="module" src="/_astro/Layout.astro_astro_type_script_index_0_lang.CfATFYeA.js"></script> <script type="module" src="/_astro/Layout.astro_astro_type_script_index_1_lang.BEn5fYqH.js"></script></body></html>